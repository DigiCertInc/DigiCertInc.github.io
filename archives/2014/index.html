<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <title>Archives: 2014 | Blog of Secer</title>
  <meta name="description" content="" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" type="text/css" href="/css/screen.css" />
  <link rel="stylesheet" type="text/css" href="/css/style.css" />
  <meta name="generator" content="Blog of Secer">

  
  
  

  
</head>

<!--
<body class="home-template">
-->
<body class="home-template">
<div id="perspective" class="perspective effect-movedown">
  <div class="container">
    <!-- wrapper -->
    <div class="wrapper">

      <header class="site-head"  style="background: #24282b url(/img/img-bg.jpg) 0 -20%" >
    <div class="vertical">
        <div class="site-head-content inner">
             <a class="blog-logo" href="/"><img src="/img/logo.svg" alt="Blog Logo"/></a> 
            <h1 class="blog-title">Blog of Secer</h1>
            <h2 class="blog-description"><button id="showMenu">Show Menu</button></h2>
        </div>
    </div>
</header>

      
<main class="content" role="main">
  
  <article class="post">
    <header class="post-header">
      <span class="post-meta">
      <time datetime="2014-12-24T06:28:42.000Z" itemprop="datePublished">
          2014-12-24
      </time>
    
    
    | 
    <a href='/tag/WMIC/'>WMIC</a>
    
    
</span>
      <h2 class="post-title"><a href="/1102.seo/">How To Find User's SIDs with WMIC</a></h2>
    </header>
    <section class="post-excerpt">
      <p>
      
        Follow these easy steps to display a table of user names and their corresponding SIDs:    Difficulty: Easy     Time Required: It’ll take less than a minute to find a user’s SID in Windows via WMIC:     Here’s How:     Op
      
      </p>
      
      <p>
          <a href="/1102.seo/" class="excerpt-link">Read More...</a>
      </p>
      
    </section>
  </article>
  
  <article class="post">
    <header class="post-header">
      <span class="post-meta">
      <time datetime="2014-12-24T06:23:54.000Z" itemprop="datePublished">
          2014-12-24
      </time>
    
    
    | 
    <a href='/tag/Ubuntu/'>Ubuntu</a>,
    
    <a href='/tag/alien/'>alien</a>
    
    
</span>
      <h2 class="post-title"><a href="/1101.seo/">Ubuntu安装rpm包软件</a></h2>
    </header>
    <section class="post-excerpt">
      <p>
      
        Ubuntu安装rpm包软件  apt-get install alien  root@macbook:~# alien jre-7u71-linux-i586.rpm   Warning: Skipping conversion of scripts in package jre: postinst postrm prerm  Warning: Use the –scripts parameter to include the scr
      
      </p>
      
      <p>
          <a href="/1101.seo/" class="excerpt-link">Read More...</a>
      </p>
      
    </section>
  </article>
  
  <article class="post">
    <header class="post-header">
      <span class="post-meta">
      <time datetime="2014-12-24T06:22:08.000Z" itemprop="datePublished">
          2014-12-24
      </time>
    
    
    | 
    <a href='/tag/Kali/'>Kali</a>
    
    
</span>
      <h2 class="post-title"><a href="/1100.seo/">kali遇到的两个小问题解决方法记录</a></h2>
    </header>
    <section class="post-excerpt">
      <p>
      
        kali安装vmtools时,遇到Enter the path to the kernel header files for the 3.14-kali1-686-pae kernel?  the path &quot;&quot; is not a vaild path to the 3.14-kali1-686-pae kernel headers.    需要执行以下命令安装  apt-get install linux-head
      
      </p>
      
      <p>
          <a href="/1100.seo/" class="excerpt-link">Read More...</a>
      </p>
      
    </section>
  </article>
  
  <article class="post">
    <header class="post-header">
      <span class="post-meta">
      <time datetime="2014-12-19T07:14:26.000Z" itemprop="datePublished">
          2014-12-19
      </time>
    
    
    | 
    <a href='/tag/Exchange/'>Exchange</a>
    
    
</span>
      <h2 class="post-title"><a href="/1099.seo/">关闭和开启Exchange 2010、2007、2003服务的命令脚本</a></h2>
    </header>
    <section class="post-excerpt">
      <p>
      
        <p>关闭和开启<a href="http://ha.cker.in/tag/Exchange" target="_blank">Exchange</a> 2010服务的命令脚本</p>  <blockquote>   <p>net stop msexchangeadtopology /y     <br />net stop msexchangefba /y      <br />net stop msftesql-exchange /y      <br />net stop msexchangeis /y      <br />net stop msexchangesa /y      <br />net stop iisadmin /y      <br />net stop w3svc /y </p> </blockquote>  <p>#What does the script do? </p>  <p>net stop msexchangeadtopology /y   <br />#Stops the &quot;Microsoft Exchange Active Directory Topology Service&quot; which will stop the following services </p>  <p>Microsoft Exchange Transport Log Search   <br />Microsoft Exchange Transport    <br />Microsoft Exchange Throttling    <br />Microsoft Exchange Service Host    <br />Microsoft Exchange Search Indexer    <br />Microsoft Exchange RPC Client Access    <br />Microsoft Exchange Replication    <br />Microsoft Exchange Protected Service Host    <br />Microsoft Exchange Mail Submission    <br />Microsoft Exchange Mailbox Replication    <br />Microsoft Exchange Mailbox Assistants    <br />Microsoft Exchange File Distribution    <br />Microsoft Exchange EdgeSync    <br />Microsoft Exchange Anti-spam Update    <br />Microsoft Exchange Address Book </p>  <p>It will also stop POP3, IMAP4 and Unified Messaging if those are enabled. </p>  <p>net stop msexchangefba /y   <br />#stops the &quot;Microsoft Exchange Forms-Based Authentication&quot; service which does not have any dependencies </p>  <p>net stop msftesql-exchange /y   <br />#stops the &quot;Microsoft Search (Exchange)&quot; service which does not have any dependencies </p>  <p>net stop msexchangeis /y   <br />#stops the &quot;Microsoft Exchange Information Store&quot; service which does not have any dependencies </p>  <p>net stop msexchangesa /y   <br />#stops the &quot;Microsoft Exchange System Attendant&quot; service which does not have any dependencies </p>  <p>net stop iisadmin /y   <br />#stops the IIS admin service, which does not have any dependencies. </p>  <p>net stop w3svc /y   <br />#stops the &quot;World Wide Web Publishing&quot; service, which may have any dependencies - on SBS this will also stop the Remote Desktop Gateway service, which could kick you out of the server if you are using the RWW to access the server. </p>  <p>If you are using a third party plug-in, then you may find that there is a dependency on that plug-in which can cause the script to fail. The /y at the end of each command should deal with it, but if you find that the third party service doesn’t stop in time, adjust the script to include a delay. (Sleep is part of the Windows Resource Kit tools, if you don’t have it installed on the server) </p>  <p>For example, this is a script used with an old version of McAfee Group Shield </p>  <blockquote>   <p>net stop &quot;McAfee GroupShield Exchange&quot; /y     <br />sleep 30      <br />net stop msexchangefba /y      <br />net stop msftesql-exchange /y      <br />net stop msexchangeis /y      <br />net stop msexchangesa /y      <br />net stop iisadmin /y      <br />net stop w3svc /y </p> </blockquote>  <p>Starting Exchange with a Script </p>  <p>Finally, you might also want a script to start Exchange again. This can be useful if you apply an update which requires a restart of the Exchange services, but don’t need to restart the server. However starting the services is a little more complex as the less number of the services are dependant on other services. Therefore more services have to be started manually. Simply copy and paste it in to a new notepad document and save it as &quot;start-exchange.cmd&quot;. </p>  <p>Remember to add POP3 and IMAP services if you are using those </p>  <blockquote>   <p>net start &quot;World Wide Web Publishing Service&quot;     <br />net start &quot;Microsoft Exchange System Attendant&quot;      <br />net start &quot;Microsoft Search&#160; (Exchange)&quot;      <br />net start &quot;Microsoft Exchange Information Store&quot;      <br />net start &quot;Microsoft Exchange Unified Messaging&quot;      <br />net start &quot;Microsoft Exchange Transport Log Search&quot;      <br />net start &quot;Microsoft Exchange Transport&quot;      <br />net start &quot;Microsoft Exchange Throttling&quot;      <br />net start &quot;Microsoft Exchange Service Host&quot;      <br />net start &quot;Microsoft Exchange Search Indexer&quot;      <br />net start &quot;Microsoft Exchange RPC Client Access&quot;      <br />net start &quot;Microsoft Exchange Replication&quot;      <br />net start &quot;Microsoft Exchange Protected Service Host&quot;      <br />net start &quot;Microsoft Exchange Mailbox Replication&quot;      <br />net start &quot;Microsoft Exchange Mailbox Assistants&quot;      <br />net start &quot;Microsoft Exchange Mail Submission&quot;      <br />net start &quot;Microsoft Exchange Forms-Based Authentication service&quot;      <br />net start &quot;Microsoft Exchange File Distribution&quot;      <br />net start &quot;Microsoft Exchange EdgeSync&quot;      <br />net start &quot;Microsoft Exchange Anti-spam Update&quot;      <br />net start &quot;Microsoft Exchange Address Book&quot; </p> </blockquote>  <p><a href="http://exchange.sembee.info/2010/shutdown-script.asp">http://exchange.sembee.info/2010/shutdown-script.asp</a></p><br>
      
      </p>
      
      <p>
          <a href="/1099.seo/" class="excerpt-link">Read More...</a>
      </p>
      
    </section>
  </article>
  
  <article class="post">
    <header class="post-header">
      <span class="post-meta">
      <time datetime="2014-12-10T19:01:51.000Z" itemprop="datePublished">
          2014-12-11
      </time>
    
</span>
      <h2 class="post-title"><a href="/1098.seo/">CRLF Injection漏洞的利用与实例分析</a></h2>
    </header>
    <section class="post-excerpt">
      <p>
      
        <p>0x00 背景</p>  <p>CRLFInjection很少遇见，这次被我逮住了。我看zone中（<a href="http://zone.wooyun.org/content/13323）还有一些同学对于这个漏洞不甚了解，甚至分不清它与CSRF，我详细说一下吧。">http://zone.wooyun.org/content/13323）还有一些同学对于这个漏洞不甚了解，甚至分不清它与CSRF，我详细说一下吧。</a></p>  <p>CRLF是”回车+换行”（\r\n）的简称。在HTTP协议中，HTTPHeader与HTTPBody是用两个CRLF分隔的，浏览器就是根据这两个CRLF来取出HTTP内容并显示出来。所以，一旦我们能够控制HTTP消息头中的字符，注入一些恶意的换行，这样我们就能注入一些会话Cookie或者HTML代码，所以CRLFInjection又叫HTTPResponseSplitting，简称HRS。</p>  <p>HRS是比XSS危害更大的安全问题，具体是为什么，我们往下看。</p>  <p>对于HRS最简单的利用方式是注入两个\r\n，之后在写入XSS代码，来构造一个xss。</p>  <p>0x01 实例</p>  <p>举个例子，一般网站会在HTTP头中用Location:<a href="http://baidu.com这种方式来进行302跳转，所以我们能控制的内容就是Location:后面的XXX某个网址。">http://baidu.com这种方式来进行302跳转，所以我们能控制的内容就是Location:后面的XXX某个网址。</a></p>  <p>所以一个正常的302跳转包是这样：</p>  <p>HTTP/1.1 302 Moved Temporarily Date: Fri, 27 Jun 2014 17:52:17 GMT Content-Type: text/html Content-Length: 154 Connection: close Location: <a href="http://www.sina.com.cn">http://www.sina.com.cn</a></p>  <p>但如果我们输入的是</p>  <p><a href="http://www.sina.com.cn%0aSet-cookie:JSPSESSID%3Dwooyun">http://www.sina.com.cn%0aSet-cookie:JSPSESSID%3Dwooyun</a></p>  <p>注入了一个换行，此时的返回包就会变成这样：</p>  <p>HTTP/1.1 302 Moved Temporarily Date: Fri, 27 Jun 2014 17:52:17 GMT Content-Type: text/html Content-Length: 154 Connection: close Location: <a href="http://www.sina.com.cn">http://www.sina.com.cn</a> Set-cookie: JSPSESSID=wooyun</p>  <p>这个时候这样我们就给访问者设置了一个SESSION，造成一个“会话固定漏洞”。</p>  <p>当然，HRS并不仅限于会话固定，通过注入两个CRLF就能造成一个无视浏览器Filter的反射型XSS。</p>  <p>比如一个网站接受url参数<a href="http://test.sina.com.cn/?url=xxx，xxx放在Location后面作为一个跳转。如果我们输入的是">http://test.sina.com.cn/?url=xxx，xxx放在Location后面作为一个跳转。如果我们输入的是</a></p>  <p><a href="http://test.sina.com.cn/?url=%0d%0a%0d%0a&lt;imgsrc=1onerror=alert(/xss/)&amp;gt">http://test.sina.com.cn/?url=%0d%0a%0d%0a&lt;imgsrc=1onerror=alert(/xss/)&amp;gt</a>;</p>  <p>我们的返回包就会变成这样：</p>  <p>HTTP/1.1 302 Moved Temporarily Date: Fri, 27 Jun 2014 17:52:17 GMT Content-Type: text/html Content-Length: 154 Connection: close Location: &lt;img src=1 onerror=alert(/xss/)&gt;</p>  <p>之前说了浏览器会根据第一个CRLF把HTTP包分成头和体，然后将体显示出来。于是我们这里这个标签就会显示出来，造成一个XSS。</p><br>
      
      </p>
      
      <p>
          <a href="/1098.seo/" class="excerpt-link">Read More...</a>
      </p>
      
    </section>
  </article>
  
  <article class="post">
    <header class="post-header">
      <span class="post-meta">
      <time datetime="2014-10-22T00:46:49.000Z" itemprop="datePublished">
          2014-10-22
      </time>
    
    
    | 
    <a href='/tag/burpsuite/'>burpsuite</a>
    
    
</span>
      <h2 class="post-title"><a href="/1096.seo/">自制分布式漏洞扫描工具</a></h2>
    </header>
    <section class="post-excerpt">
      <p>
      
        1.前言  在渗透测试和安全扫描工作中，发现越来越多站点部署了应用防护系统或异常流量监控系统，其中包括：WEB应用防火墙（软件WAF、硬件WAF、云WAF）、入侵检测系统、入侵防御系统、访问监控系统等。很多防护系统不仅可实时检测攻击和拦截，并且具备自动阻断功能。当系统检测到某些IP在特定时间段内产生大量攻击行为时会开启阻断功能，阻断该IP在一定时间内的任何访问。  常见应用防护系统和异常流量监控系统的阻断策略主要有以下几种：  - 单I
      
      </p>
      
      <p>
          <a href="/1096.seo/" class="excerpt-link">Read More...</a>
      </p>
      
    </section>
  </article>
  
  <nav class="pagination" role="pagination">
    
    <span class="page-number">Page 1 of 7</span>
    <a class="older-posts" href="/archives/2014/page/2/">Older Posts →</a>
  </nav>
</main>


      
<footer class="site-footer">
  
  <div class="inner">
     <section class="copyright">All content copyright <a href="/">Blog of Secer</a> &copy; 2014 &bull; All rights reserved.</section>
     <section class="poweredby">Proudly published with <a class="icon-ghost" href="http://zespia.tw/hexo/">Hexo</a></section>
  </div>
</footer>

      <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<script type="text/javascript" src="/js/jquery.fitvids.js"></script>
<script type="text/javascript" src="/js/index.js"></script>
<script type="text/javascript" src="/js/menu.js"></script>





  </div>
</div>

<nav  class="outer-nav top horizontal">

          <a class="icon-home"  href="/"><span>Home</span></a>

          <a class="icon-news"  href="/archives"><span>Archive</span></a>

          <a class="icon-image"  href="/images"><span>Images</span></a>

          <a class="icon-wiki"  href="/wiki/"><span>Wiki</span></a>

          <a class="icon-Favorites"  href="/favorites"><span>Favorites</span></a>

          <a class="icon-mail"  href="/about/"><span>Contact</span></a>

</nav>

</div>
</body>
</html>
