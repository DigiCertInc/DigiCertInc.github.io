<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <title>Category: 渗透测试 | Blog of Secer</title>
  <meta name="description" content="" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" type="text/css" href="/css/screen.css" />
  <link rel="stylesheet" type="text/css" href="/css/style.css" />
  <meta name="generator" content="Blog of Secer">

  
  
  

  
</head>

<!--
<body class="home-template">
-->
<body class="home-template">
<div id="perspective" class="perspective effect-movedown">
  <div class="container">
    <!-- wrapper -->
    <div class="wrapper">

      <header class="site-head"  style="background: #24282b url(/img/img-bg.jpg) 0 -20%" >
    <div class="vertical">
        <div class="site-head-content inner">
             <a class="blog-logo" href="/"><img src="/img/logo.svg" alt="Blog Logo"/></a> 
            <h1 class="blog-title">Blog of Secer</h1>
            <h2 class="blog-description"><button id="showMenu">Show Menu</button></h2>
        </div>
    </div>
</header>

      
<main class="content" role="main">
  
  <article class="post">
    <header class="post-header">
      <span class="post-meta">
      <time datetime="2016-04-26T23:12:44.000Z" itemprop="datePublished">
          2016-04-27
      </time>
    
    
    | 
    <a href='/tag/渗透测试/'>渗透测试</a>,
    
    <a href='/tag/Facebook/'>Facebook</a>,
    
    <a href='/tag/社工库/'>社工库</a>,
    
    <a href='/tag/SSL-VPN/'>SSL VPN</a>,
    
    <a href='/tag/Auditd/'>Auditd</a>
    
    
</span>
      <h2 class="post-title"><a href="/1138.seo/">渗透Facebook的思路与发现</a></h2>
    </header>
    <section class="post-excerpt">
      <p>
      
        <p><b>写在故事之前</b></p>  <p>身为一位<a href="http://ha.cker.in/tag/渗透测试" target="_blank">渗透测试</a>人员，比起 Client Side 的弱点我更喜欢 Server Side 的攻击，能够直接的控制服务器、获得权限操作 SHELL 才爽 &lt;(￣︶￣)&gt;</p>  <p>当然一次完美的渗透任何形式的弱点都不可小觑，在实际渗透时偶尔还是需要些 Client Side 弱点组合可以更完美的控制服务器，但是在寻找弱点时我本身还是先偏向以可直接进入服务器的方式来去寻找风险高、能长驱直入的弱点。</p>  <p>随着 <a href="http://ha.cker.in/tag/Facebook" target="_blank">Facebook</a> 在世界上越来越火红、用户量越来越多，一直以来都有想要尝试看看的想法，恰巧 <a href="http://ha.cker.in/tag/Facebook" target="_blank">Facebook</a> 在 2012 年开始有了 <a href="https://www.facebook.com/whitehat/">Bug Bounty</a> 奖金猎人的机制让我更跃跃欲试。</p>  <p>一般如由渗透的角度来说习惯性都会从收集数据、侦查开始，首先界定出目标在网络上的 “范围” 有多大，姑且可以评估一下从何处比较有机会下手。例如:</p>  <p>Google Hacking 到什么数据?</p>  <p>用了几个 B 段的 IP ? C 段的 IP ?</p>  <p>Whois? Reverse Whois?</p>  <p>用了什么域名? 内部使用的域名? 接着做子域名的猜测、扫描</p>  <p>公司平常爱用什么样技术、设备?</p>  <p>在 Github, Pastebin 上是否有泄漏什么信息?</p>  <p>…etc</p>  <p>当然 Bug Bounty 并不是让你无限制的攻击，将所搜集到的范围与 Bug Bounty 所允许的范围做交集后才是你真正可以去尝试的目标。</p>  <p>一般来说大公司在渗透中比较容易出现的问题点这里举几个例子来探讨</p>  <ol>   <li>对多数大公司而言，&quot;<b>网络边界</b>”是比较难顾及、容易出现问题的一块，当公司规模越大，同时拥有数千、数万台机器在线，网管很难顾及到每台机器。在攻防里，防守要防的是一个面，但攻击只需 找个一个点就可以突破，所以防守方相对处于弱势，攻击者只要找到一台位于网络边界的机器入侵进去就可以开始在内网进行渗透了!</li>    <li>对于 “<b>连网设备</b>” 的安全意识相对薄弱，由于连网设备通常不会提供 SHELL 给管理员做进一步的操作，只能由设备本身所提供的接口设定，所以通常对于设备的防御都是从网络层来抵挡，但如遇到设备本身的 0-Day 或者是 1-Day 可能连被入侵了都不自觉。</li>    <li>人的安全，随着 “<a href="http://ha.cker.in/tag/社工库" target="_blank">社工库</a><b></b>” 的崛起，有时可以让一次渗透的流程变得异常简单，从公开数据找出公司员工列表，再从社工库找到可以登入 VPN 的员工密码就可以开始进行内网渗透，尤其当社工库数量越来越多 “<b>量变成质变</b>” 时只要关键人物的密码在社工库中可找到，那企业的安全性就全然突破。</li> </ol>  <p>理所当然在寻找 <a href="http://ha.cker.in/tag/Facebook" target="_blank">Facebook</a> 弱点时会以平常进行渗透的思路进行，在开始搜集数据时除了针对 Facebook 本身域名查询外也对注册信箱进行 Reverse Whois 意外发现了个奇妙的域名名称</p><br>
      
      </p>
      
      <p>
          <a href="/1138.seo/" class="excerpt-link">Read More...</a>
      </p>
      
    </section>
  </article>
  
  <article class="post">
    <header class="post-header">
      <span class="post-meta">
      <time datetime="2016-04-20T18:02:09.000Z" itemprop="datePublished">
          2016-04-21
      </time>
    
    
    | 
    <a href='/tag/Tor/'>Tor</a>,
    
    <a href='/tag/Hacking-Team/'>Hacking Team</a>
    
    
</span>
      <h2 class="post-title"><a href="/1137.seo/">渗透Hacking Team过程</a></h2>
    </header>
    <section class="post-excerpt">
      <p>
      
        <p>0x00 Hacking Team</p>  <p><a href="http://ha.cker.in/tag/Hacking Team" target="_blank">Hacking Team</a> 是一个协助政府hack和监视记者、政治家等的公司（详见段尾链接），当然有时候也会监控恐怖分子和罪犯。其CEO——Vincenzetti——很喜欢在他的邮件末尾加上一句纳粹标语“boia chi molla” (放弃者该死)，同时，他一直宣称拥有可以解决“Tor 问题”和“暗网问题”的技术。但是我一直很怀疑他的那种技术的有效性。</p>  <h3>0x01 小心点</h3>  <p>很不幸，我们的世界是颠倒的，你越做坏事越富有，越做好事反而被抓。但幸运的是，多亏了人们的努力，比如&quot;Tor项目&quot;，你可以通过以下指导来防止被人抓住把柄：</p>  <p>1) 加密的你的硬盘</p>  <p>如果有一天你做的事被发现了，警察叔叔带走了你的电脑，尽管被发现就意味着你已经犯了很多错误，但是加密硬盘会比不加密要好得多。</p>  <p>2) 使用虚拟机并且把所有的网络都走Tor</p>  <p>这样就实现了两点，第一、你的所有流量都匿名了。第二、把你的个人生活和匿名操作分开了，防止两种生活互相混合。</p>  <p>3) 不要直接连接<a href="http://ha.cker.in/tag/Tor" target="_blank">Tor</a>网络 (可选项)</p>  <p>Tor不是万能药，有可能你在连接到Tor网络的时候刚好在做坏事。也可能你在退出Tor网络的时候你同样在做坏事。最好还是用别人的wifi，或者连接vpn或者中转机子，然后连接Tor匿名网络。</p>  <h3>0x02 搜集信息</h3>  <p>尽管这个过程非常无聊，但却是非常重要，目标越大越多，漏洞出现的几率就越大。</p>  <h6>1 技术方面的信息</h6>  <p>主要使用以下各种方面的信息</p>  <p>1)Google</p>  <p>如果使用合适的语句，你可以发现大量的意外收获。</p>  <p>2)二级域名搜集</p>  <p>一般来说，域名大部分都是又第三方公司提供的，你需要寻找到其域名的IP范围。当然，有时候会存在DNS域传送漏洞，这样就更好搜集信息了。</p>  <p>3)Whois查询和反向查询</p>  <p>通过各种Whois查询和其ip范围的域名反向查询，你也可以获得很多其他子域名，据我所知，没有免费的反向查询，除非谷歌hack。</p>  <p>4)端口扫描和指纹提取</p>  <p>和其他的技术不同，你可以跟公司的员工聊天。我把它作为可选项放在这里因为它不是一种攻击方式，只是搜集信息的一种方式。在扫描的过程中，该业务的入侵检测系统可能会告警，但是不用担心，整个Inernet都经常会扫描自身。</p>  <p>对于扫描来说，<a href="http://ha.cker.in/tag/nmap" target="_blank">Nmap</a>是再合适不过了，它也可以识别各种服务的指纹。但是对于大规模网络来说，zmap和masscan更快速。WhatWeb和BlindElephant 适合抓取web指纹。</p>  <h6>2 社工信息</h6>  <p>对于社会工程学来说，搜集员工信息非常重要，包括他们的各自的角色，合约，使用的操作系统，浏览器，插件，软件等。一般使用如下途径：</p>  <p>1)Google</p>  <p>这也是最有用的工具。</p>  <p>2)theHarvester y recon-ng</p>  <p>我在上一个内容中就提到了这些东西，但是他们其实还有更多的用处。你可以自动快速地找到大量的信息，这也值得你去花时间阅读官方文档。</p>  <p>3)LinkedIn</p>  <p>你可以通过这个软件获取到大量的雇员信息，内部人员总是倾向于与他人交流。</p>  <p>4)Data.com</p>  <p>它就像拼图一样把各种信息整合在一起。</p>  <p>5)File metadata</p>  <p>你可以在他们公司发布的各种文档中找到大量有用的信息。</p>  <h3>0x03 打入内网</h3>  <p>进入内网的方式有很多种。我打入HT内网的方式是不常见的，而且比平时花的精力要多得多，所以我在这里提一下进入内网的两种常见的方式，这两种也是我推荐的。</p>  <h6>1 社工</h6>  <p>社会工程学，尤其是鱼叉式网络钓鱼，是各种渗透技巧中比较可靠的一种。更多技巧请移步段尾链接。我不想尝试对HT进行钓鱼攻击，因为这种攻击方式对他们来说太常见了，所以他们会非常警惕。既增加了难度，又容易被发现我的意图。 </p>  <p><a href="http://www.hacknbytes.com/2016/01/apt-pentest-con-empire.html">http://www.hacknbytes.com/2016/01/apt-pentest-con-empire.html</a></p>  <p><a href="http://blog.cobaltstrike.com/2015/09/30/advanced-threat-tactics-course-and-notes/">http://blog.cobaltstrike.com/2015/09/30/advanced-threat-tactics-course-and-notes/</a></p>  <p><a href="http://www.netcomunity.com/lestertheteacher/doc/ingsocial1.pdf">http://www.netcomunity.com/lestertheteacher/doc/ingsocial1.pdf</a></p>  <h6>2 购买权限</h6>  <p>多亏了勤劳的俄罗斯人和他们的渗透工具 “traffic sellers”和“bot herders”，许多公司都已经有了被入侵的电脑。几乎所有世界五百强的大型网络中都存在一些被入侵的机器。但是Hacking Team是个小公司，他们的大多数员工都是信息安全专家，所以他们内部存在被入侵机器的可能性非常小。</p>  <h5>3 技术入侵</h5>  <p>Gamma公司被黑以后，我就已经描述了一个寻找漏洞的过程：</p>  <pre><a href="http://pastebin.com/raw.php?i=cRYvK4jb">http://pastebin.com/raw.php?i=cRYvK4jb</a></pre><br><br><p>Hacking Team有一个段的公网IP:</p>

<pre>inetnum:&#160;&#160;&#160;&#160;&#160;&#160;&#160; 93.62.139.32 - 93.62.139.47</pre>

<pre>descr:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; HT public subnet</pre>

<p>他们的网络有少量暴露在外网，比如不像Gamma公司，他们的公网地址都需要证书才能连接。HT的公网服务器主要有一个Joomla的博客(joomscan没有扫出来有用的东西)，一个邮件服务器，几个路由，两个VPN，一个垃圾邮箱过滤系统。所以我现在只能通过以下方式获取权限：发现一个Joomla的0day，或者postfix的0day，或者他们其他一个系统的0day。嵌入式系统的0day对于我来说比较靠谱点，于是我花了两周的时间，通过逆向发现了一个命令执行0day。这个0day至今仍然没有修复，所以我也不方便给出更多细节。</p>

<h3>0x04 事前准备</h3>

<p>在正式攻击之前，我做了很多测试和准备，在硬件里面写入了一个后门，并且在嵌入式系统上编译了各种各样的工具：</p>

<p>1) busybox</p>

<p>这个工具大多数的Unix系机器都没有。</p>

<p>2)nmap</p>

<p>扫描工具</p>

<p>3)Responder.py</p>

<p>内网中间人攻击神器</p>

<p>4)python</p>

<p>这个必须得有</p>

<p>5)tcpdump</p>

<p>抓包</p>

<p>6)dsniff</p>

<p>在内网中嗅探各种密码之类的，我更喜欢用HT的ettercap，但是编译起来很麻烦。</p>

<p>7)socat</p>

<p>NC的升级版，主要端口转发</p>

<p>8)screen</p>

<p>可以让你多窗口执行命令，其实也不是太需要</p>

<p>9)socks5代理主机</p>

<p>加上proxychains，插入内网</p>

<p>10)tgcd</p>

<p>通过转发端口，穿透防火墙</p>

<p>最坑的事儿就是你把后门和工具部署上去之后，系统挂了，然后运维上去一看，全完了。所以我花了一周的时间在最后的部署之前测试我的各种后门和exp。</p><br>
      
      </p>
      
      <p>
          <a href="/1137.seo/" class="excerpt-link">Read More...</a>
      </p>
      
    </section>
  </article>
  
  <article class="post">
    <header class="post-header">
      <span class="post-meta">
      <time datetime="2015-09-18T00:48:16.000Z" itemprop="datePublished">
          2015-09-18
      </time>
    
    
    | 
    <a href='/tag/Redis/'>Redis</a>,
    
    <a href='/tag/shell/'>shell</a>
    
    
</span>
      <h2 class="post-title"><a href="/1131.seo/">Redis未授权访问漏洞获取shell，及写shell报错解决办法</a></h2>
    </header>
    <section class="post-excerpt">
      <p>
      
        <p>某日遇上<a href="http://ha.cker.in/tag/Redis" target="_blank">Redis</a>未授权访问,刚好有PHPINFO知道了路径，就可以直接写<a href="http://ha.cker.in/tag/shell" target="_blank">shell</a>啦！</p>  <p>看下面的图，是不是很顺利？？</p>  <p><a href="http://img.cker.in/Redisshellshell_EBD4/image.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://img.cker.in/Redisshellshell_EBD4/image_thumb.png" width="577" height="213" /></a> </p>  <p>结果……发现写入成功，访问报错，PHP代码解析有问题了？</p>  <p><a href="http://img.cker.in/Redisshellshell_EBD4/image_3.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://img.cker.in/Redisshellshell_EBD4/image_thumb_3.png" width="574" height="123" /></a> </p>  <p>我们写入txt文件，下载后查看什么原因</p>  <p><a href="http://img.cker.in/Redisshellshell_EBD4/image_4.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://img.cker.in/Redisshellshell_EBD4/image_thumb_4.png" width="577" height="294" /></a> </p>  <p>多了个问号字符出现在代码标签处开始处，所以下面的php代码直接执行不了了！</p>  <p><a href="http://img.cker.in/Redisshellshell_EBD4/clip_image002.jpg"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image002" border="0" alt="clip_image002" src="http://img.cker.in/Redisshellshell_EBD4/clip_image002_thumb.jpg" width="580" height="260" /></a></p>  <p>重新写马，闭合也不行，访问还是报错</p>  <p><a href="http://img.cker.in/Redisshellshell_EBD4/image_5.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://img.cker.in/Redisshellshell_EBD4/image_thumb_5.png" width="538" height="119" /></a> </p>  <p>查下资料找到解决方法，先把原来的数据备份，然后清空，这个前面的<em>&lt;??</em>字符就不会影响到我们写马了!</p><br>
      
      </p>
      
      <p>
          <a href="/1131.seo/" class="excerpt-link">Read More...</a>
      </p>
      
    </section>
  </article>
  
  <article class="post">
    <header class="post-header">
      <span class="post-meta">
      <time datetime="2015-04-27T06:39:14.000Z" itemprop="datePublished">
          2015-04-27
      </time>
    
    
    | 
    <a href='/tag/内网渗透/'>内网渗透</a>
    
    
</span>
      <h2 class="post-title"><a href="/1108.seo/">某内网渗透实例</a></h2>
    </header>
    <section class="post-excerpt">
      <p>
      
        <p>1.外网入口:</p>  <p>目标:vlun.com[打码需要]</p>  <p>从m.vlun.com分站入手，发现有一个注入</p>  <p><a href="http://img.cker.in/26bb1a8ec3a2_1C9B/clip_image001.png" rel="lightbox"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image001" border="0" alt="clip_image001" src="http://img.cker.in/26bb1a8ec3a2_1C9B/clip_image001_thumb.png" width="591" height="180" /></a></p>  <p>直接备份一个webshell</p>  <p><a href="http://img.cker.in/26bb1a8ec3a2_1C9B/clip_image003.jpg" rel="lightbox"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image003" border="0" alt="clip_image003" src="http://img.cker.in/26bb1a8ec3a2_1C9B/clip_image003_thumb.jpg" width="580" height="393" /></a></p>  <p><a href="http://img.cker.in/26bb1a8ec3a2_1C9B/clip_image004.png" rel="lightbox"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image004" border="0" alt="clip_image004" src="http://img.cker.in/26bb1a8ec3a2_1C9B/clip_image004_thumb.png" width="472" height="257" /></a></p>  <p>接着提权加抓密码的得到:</p>  <p>UserName: Administrator</p>  <p>password: vlun,123【之前的密码，也被抓下来了】</p>  <p>UserName: Administrator</p>  <p>password: vlun,54a【可以发现这个密码和ip有关！】</p>  <p>+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</p>  <p>+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</p>  <p>2.<a href="http://ha.cker.in/tag/内网渗透" target="_blank">内网渗透</a>:</p>  <p>2.1. 10.135.106.0/24段</p>  <p>本机在这个段，而且之前密码来看，密码和ip有关，</p>  <p>也就是说假设ip是10.135.106.108，那他的口令一个这样administrator:vlun,108a</p>  <p>So，密码将字典加入凤凰扫描器，开始扫描；</p>  <p>Result:</p>  <p>Mysql:</p>  <p>10.135.106.25 mysql at 3306 has weaken password!!——-root:123456</p>  <p>10.135.106.86 mysql at 3306 has weaken password!!——-root:root</p>  <p>Ssh:</p>  <p>10.135.106.245 ssh at 22 has weaken password!!——-root:vlun,123</p>  <p>Smb:</p>  <p>10.135.106.75 smb at 445 has weaken password!!——-administrator:vlun,123</p>  <p>10.135.106.160 smb at 445 has weaken password!!——-administrator:vlun,123</p>  <p>10.135.106.54 smb at 445 has weaken password!!——-administrator:vlun,54a</p>  <p>10.135.106.41 smb at 445 has weaken password!!——-administrator:vlun,41a</p>  <p>10.135.106.180 smb at 445 has weaken password!!——-administrator:vlun,180a</p>  <p>喜欢sock5代理，可以方便的用proxychains和proxifier连接。</p>  <p>想用hdtran做一个sockets代理，结果老给杀掉，直接用python写一个类似功能的，ssock_win.exe 做了sock5代理并反弹出来~</p>  <p>上图：</p>  <p><a href="http://img.cker.in/26bb1a8ec3a2_1C9B/clip_image006.jpg" rel="lightbox"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image006" border="0" alt="clip_image006" src="http://img.cker.in/26bb1a8ec3a2_1C9B/clip_image006_thumb.jpg" width="580" height="334" /></a></p><br>
      
      </p>
      
      <p>
          <a href="/1108.seo/" class="excerpt-link">Read More...</a>
      </p>
      
    </section>
  </article>
  
  <article class="post">
    <header class="post-header">
      <span class="post-meta">
      <time datetime="2015-04-21T09:52:19.000Z" itemprop="datePublished">
          2015-04-21
      </time>
    
    
    | 
    <a href='/tag/ettercap/'>ettercap</a>,
    
    <a href='/tag/kaili/'>kaili</a>,
    
    <a href='/tag/BDFProxy/'>BDFProxy</a>
    
    
</span>
      <h2 class="post-title"><a href="/1106.seo/">内网渗透之PC控制及完美过杀毒</a></h2>
    </header>
    <section class="post-excerpt">
      <p>
      
        <p>一、PC控制篇</p>  <p>在内网渗透的过程中,我们为了达到目标的长期控制,常会选择在目标PC上种植木马，此篇中主要讲述如何在目标下载exe及zip文件的时候在zip文件及exe程序当中插入我们的后门代码。这样，只要目标运行了下载的程序就能顺利将木马植入目标主机。</p>  <p>（一）用到的工具：</p>  <p>1.<a href="http://ha.cker.in/tag/kali" target="_blank">kali</a></p>  <p>2.<a href="http://ha.cker.in/tag/ettercap" target="_blank">ettercap</a></p>  <p>3.<a href="http://ha.cker.in/tag/BDFProxy" target="_blank">BDFProxy</a></p>  <p>4.msf</p>  <p>其中BDFProxy在kali里面默认没有安装，安装请参考：<a href="https://github.com/secretsquirrel/BDFProxy.git">https://github.com/secretsquirrel/BDFProxy.git</a></p>  <p>（二）实现步骤：</p>  <p>1.在成功安装好BDFProxy之后首先要进行一些配置，它的配置文件在/BDFProxy/bdfproxy.cfg，其中要注意修改以下两处：</p>  <p><a href="http://img.cker.in/PC_191B/clip_image001.png" rel="lightbox"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image001" border="0" alt="clip_image001" src="http://img.cker.in/PC_191B/clip_image001_thumb.png" width="329" height="219" /></a></p>  <p>图-1，BDFProxy默认监听的端口</p>  <p><a href="http://img.cker.in/PC_191B/clip_image002.png" rel="lightbox"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image002" border="0" alt="clip_image002" src="http://img.cker.in/PC_191B/clip_image002_thumb.png" width="426" height="293" /></a></p>  <p>图-2，后门代码反弹的主机及使用的playload</p>  <p>1. 以上配置好之后我们来启动BDFProxy。</p>  <p><a href="http://img.cker.in/PC_191B/clip_image004.jpg" rel="lightbox"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image004" border="0" alt="clip_image004" src="http://img.cker.in/PC_191B/clip_image004_thumb.jpg" width="580" height="281" /></a></p>  <p>图-3，启动BDFProxy </p>  <p>2.打开日志，方便我们时时查看执行情况。图-4</p>  <p><a href="http://img.cker.in/PC_191B/clip_image005.png" rel="lightbox"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image005" border="0" alt="clip_image005" src="http://img.cker.in/PC_191B/clip_image005_thumb.png" width="389" height="185" /></a></p>  <p>图-4，打开BDFProxy日志</p>  <p>3.启动msfconsole，注意这里我们用BDFProxy生成的配置文件来启动msfconsole。图-5</p>  <p><a href="http://img.cker.in/PC_191B/clip_image007.jpg" rel="lightbox"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image007" border="0" alt="clip_image007" src="http://img.cker.in/PC_191B/clip_image007_thumb.jpg" width="580" height="191" /></a></p>  <p>图-5，启动msfconsole</p>  <p>4.启动ettercap 来执行arp欺骗，具体的arp欺骗不在本篇的讨论范围,请自行查阅相关资料.</p><br>
      
      </p>
      
      <p>
          <a href="/1106.seo/" class="excerpt-link">Read More...</a>
      </p>
      
    </section>
  </article>
  
  <article class="post">
    <header class="post-header">
      <span class="post-meta">
      <time datetime="2014-08-30T03:39:42.000Z" itemprop="datePublished">
          2014-08-30
      </time>
    
    
    | 
    <a href='/tag/SQLmap/'>SQLmap</a>,
    
    <a href='/tag/Tor/'>Tor</a>,
    
    <a href='/tag/wpscan/'>wpscan</a>,
    
    <a href='/tag/joomscan/'>joomscan</a>,
    
    <a href='/tag/WhatWeb/'>WhatWeb</a>
    
    
</span>
      <h2 class="post-title"><a href="/1093.seo/">我是如何黑掉英国间谍软件公司Gamma的</a></h2>
    </header>
    <section class="post-excerpt">
      <p>
      
        <p>本文翻译自黑客自己公布的入侵指南。详细的介绍了从信息收集，到发现目标站点，以及进行源码审计，绕过waf注入，尝试提权服务器的整个过程。</p>  <p><b>0</b><b>×00 开篇</b></p>  <p>我写这篇文章不是为了吹嘘自己有多牛逼，使用了多高深的技术去搞定Gamma。我只是想揭开黑客技术神秘的面纱，告诉人们黑客技术很普通，你也可以利用黑客技术去反抗这个世界上那些见不得人的事。如果你没有任何编程或者hacking的经验，那些下面的文章可能会看起来像天书一样。没有关系，文章最后的参考资料会帮助你慢慢开始。相信我，一旦你有了一些基础之后就会发现hacking这事比信息自由法案的申请简单多了。（filing a FOIA request)。</p>  <p><b>0</b><b>×01保护自己</b></p>  <p>入侵是非法的，所以需要一些基本的措施来保护自己。</p>  <p>1,使用Truecrypt 7.1a制作一个隐藏的加密分区</p>  <p>2,在这个加密分区上安装Whonix系统</p>  <p>3,(可选的)尽管使用Whonix系统，所有的流量都会经过<a href="http://ha.cker.in/tag/Tor" target="_blank">Tor</a>，已经很足够了。但是最好还是不要用自己名字或者地址申请的网络接入点。使用cantenna，aircrack和reaver可以方便的破解无线，接入网络。</p>  <p>只要你遵守一些常识，比如永远不要在Whonix系统之后做hacking相关的事，也不要在Whonix系统中做一些自己日常使用的操作，跟其他黑客聊天的时候不要透漏自己真实生活的信息，也不要跟身边的朋友吹嘘自己非法入侵的经历。那么你就可以基本不用担心被追踪的问题了。</p>  <p>注意：我并不推荐直接通过Tor进行hacking。对于浏览器来说使用Tor是很方便的。但是对于nmap，sqlmap，nikto之类的黑客工具，需要发送成千上万的请求，通过Tor使用就会非常慢。更不用说有时候你需要一个公网IP来接受反弹shell了。我推荐使用黑来的服务器或者使用比特比购买的VPS来进行hacking。然后你跟服务器或者VPS的连接使用Tor。这样就只有很少的命令行的流量通过Tor。速度会快很多。</p>  <p><b>0</b><b>×02 收集目标信息</b></p>  <p>一般我会不断使用fierce，whois和反向whois查询来找到一个组织所有相关的域名和ip。拿Blackwater为例。我们知道他的主页是academi.com。使用fierce.py -dns academi.com查询它的子域名：</p>  <p>67.238.84.228&#160;&#160; email.academi.com </p>  <p>67.238.84.242&#160;&#160; extranet.academi.com </p>  <p>67.238.84.240&#160;&#160; mail.academi.com </p>  <p>67.238.84.230&#160;&#160; secure.academi.com </p>  <p>67.238.84.227&#160;&#160; vault.academi.com </p>  <p>54.243.51.249&#160;&#160; www.academi.com</p>  <p>然后通过whois查询找到www.academi.com托管在亚马逊云上。其他域名的ip也在下面的段内。</p>  <p>NetRange:&#160;&#160;&#160;&#160;&#160;&#160; 67.238.84.224 - 67.238.84.255 </p>  <p>CIDR:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 67.238.84.224/27 </p>  <p>CustName:&#160;&#160;&#160;&#160;&#160;&#160; Blackwater USA </p>  <p>Address:&#160;&#160;&#160;&#160;&#160;&#160;&#160; 850 Puddin Ridge Rd</p><br>
      
      </p>
      
      <p>
          <a href="/1093.seo/" class="excerpt-link">Read More...</a>
      </p>
      
    </section>
  </article>
  
  <nav class="pagination" role="pagination">
    
    <span class="page-number">Page 1 of 16</span>
    <a class="older-posts" href="/category/渗透测试/page/2/">Older Posts →</a>
  </nav>
</main>


      
<footer class="site-footer">
  
  <div class="inner">
     <section class="copyright">All content copyright <a href="/">Blog of Secer</a> &copy; 2014 &bull; All rights reserved.</section>
     <section class="poweredby">Proudly published with <a class="icon-ghost" href="http://zespia.tw/hexo/">Hexo</a></section>
  </div>
</footer>

      <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<script type="text/javascript" src="/js/jquery.fitvids.js"></script>
<script type="text/javascript" src="/js/index.js"></script>
<script type="text/javascript" src="/js/menu.js"></script>





  </div>
</div>

<nav  class="outer-nav top horizontal">

          <a class="icon-home"  href="/"><span>Home</span></a>

          <a class="icon-news"  href="/archives"><span>Archive</span></a>

          <a class="icon-image"  href="/images"><span>Images</span></a>

          <a class="icon-wiki"  href="/wiki/"><span>Wiki</span></a>

          <a class="icon-Favorites"  href="/favorites"><span>Favorites</span></a>

          <a class="icon-mail"  href="/about/"><span>Contact</span></a>

</nav>

</div>
</body>
</html>
