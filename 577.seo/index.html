<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <title>如何通过SSH在Linux VPS上安装Kloxo Lxadmin | Blog of Secer</title>
  <meta name="description" content="" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" type="text/css" href="/css/screen.css" />
  <link rel="stylesheet" type="text/css" href="/css/style.css" />
  <meta name="generator" content="Blog of Secer">

  
  
  

  
</head>

<!--
<body class="post-template">
-->
<body class="home-template">
<div id="perspective" class="perspective effect-movedown">
  <div class="container">
    <!-- wrapper -->
    <div class="wrapper">

      <header class="site-head"  style="background: #24282b url(/img/img-bg.jpg) 0 -20%" >
    <div class="vertical">
        <div class="site-head-content inner">
             <a class="blog-logo" href="/"><img src="/img/logo.svg" alt="Blog Logo"/></a> 
            <h1 class="blog-title">Blog of Secer</h1>
            <h2 class="blog-description"><button id="showMenu">Show Menu</button></h2>
        </div>
    </div>
</header>

      

<main class="content" role="main">
  <article class="post">
    <span class="post-meta">
      <time datetime="2012-06-21T13:34:37.000Z" itemprop="datePublished">
          2012-06-21
      </time>
    
    
    | 
    <a href='/tag/Linux/'>Linux</a>,
    
    <a href='/tag/VPS/'>VPS</a>,
    
    <a href='/tag/Kloxo/'>Kloxo</a>,
    
    <a href='/tag/Lxadmin/'>Lxadmin</a>,
    
    <a href='/tag/虚拟主机控制面板/'>虚拟主机控制面板</a>
    
    
</span>
    <h1 class="post-title">如何通过SSH在Linux VPS上安装Kloxo Lxadmin</h1>
    <section class="post-content">
      <p>每次重装VPS的系统后都要Google一下VPS控制面板及配置一些的方法。因为不是经常用到，所以记不住。时间久了还是决定自己整理一份安装说明，这样查找起来比较方便。本文适合未接触过<a href="http://ha.cker.in/tag/Linux" target="_blank">Linux</a>和<a href="http://ha.cker.in/tag/Kloxo" target="_blank">Kloxo</a>的同学参考。</p>  <p><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image002" border="0" alt="clip_image002" src="http://img.cker.in/SSHLinuxVPSKloxoLxadmin_4E4D/clip_image002.jpg" width="514" height="369"></p>  <p><a href="http://ha.cker.in/tag/Kloxo" target="_blank">Kloxo</a>的前身是<a href="http://ha.cker.in/tag/Lxadmin" target="_blank">Lxadmin</a>，是一款免费、开源、高效、灵活的虚拟主机控制面板，只需15MB的内存就可以运行在32位Red Hat和CentOS Linux发行版（RHEL系列）上面。Kloxo能够在Apache与Lighttpd这两大Web Server之间灵活切换，同时集成了MySQL、pure-ftpd、Xcache、djbdns/bind、SUexec等服务器组件。如果你想了解更多Kloxo的资料可以访问：<a href="http://en.wikipedia.org/wiki/Kloxo" target="_blank" rel="external">Kloxo维基百科</a>和<a href="http://www.lxcenter.org/" target="_blank" rel="external">Kloxo官方网站</a>。</p>  <p>很多运营商都有提供管理平台让客户对自己的<a href="http://ha.cker.in/tag/VPS" target="_blank">VPS</a>做一些常规管理，比如系统开关重启、系统重装、资源使用率查看等。今天用DirectSpace的VPS做Kloxo安装步骤介绍，他们使用SolusVM做管理平台。通过SolusVM重装纯净的CentOS后，我的VPS内存占用约15MB左右。关于如何重装VPS系统请咨询你的运营商。</p><a id="more"></a><p></p>  <p><a href="http://upload.chinaz.com/upimg/userup/1103/2411154632C.jpg" target="_blank" rel="external"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image003" border="0" alt="clip_image003" src="http://img.cker.in/SSHLinuxVPSKloxoLxadmin_4E4D/clip_image003.jpg" width="765" height="120"></a></p>  <p>我使用SSH客户端是<a href="http://code.google.com/p/puttycn/" target="_blank" rel="external">PuTTY中文版</a>，一般来说SSH默认的端口是22。第一次使用SSH登录远程主机时会提示你更新安全密钥到本地缓存，确认保存以后你就可以继续后面的操作了。</p>  <p><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image004" border="0" alt="clip_image004" src="http://img.cker.in/SSHLinuxVPSKloxoLxadmin_4E4D/clip_image004.jpg" width="459" height="407"></p>  <p><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image005" border="0" alt="clip_image005" src="http://img.cker.in/SSHLinuxVPSKloxoLxadmin_4E4D/clip_image005.jpg" width="504" height="314"></p>  <p>root是拥有最高权限的帐户，Linux命令行是不显示密码输入过程的，不必担心，你只需敲完整密码回车即可完成登录。</p>  <p>一些服务器为了安全考虑会禁用环境变量这个特性，所以当你登录会看见这个提示：“Server refused to set all environment variables”（服务器拒绝设置所有的环境变量）。</p>  <p>“Last login”是告诉你上次登录服务器的记录，你也可以以此简单判断服务器是否被他人登录过。由于我使用的是运营商提供的系统安装模板，所以，第一次登录显示“Sun Apr 5 19:36:07 2009 from host81-152-164-227.range81-152.btcentralplus.com”这个2009年的记录应该是系统模板制作者留下的。</p>  <p><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image006" border="0" alt="clip_image006" src="http://img.cker.in/SSHLinuxVPSKloxoLxadmin_4E4D/clip_image006.jpg" width="504" height="555"></p>  <p>接下来我们开始进入Kloxo的安装环节：</p>  <p>第一步：卸载自带组件</p>  <p>Kloxo集成了我们所需的组件，为了安装顺利，我们先卸载掉CentOS自带的组件。</p>  <p>分别运行：    <table border="1" cellspacing="0" cellpadding="0"><tbody>       <tr>         <td>           <p># rpm -qa | grep httpd              <br># rpm -qa | grep mysql               <br># rpm -qa | grep php</p>         </td>       </tr>     </tbody></table> </p>  <p>命令rpm -qa分别列出apache、mysql、php等组件相关的rpm包以便之后依次卸载。</p>  <p>通过查询可以看出我的VPS只自带了apache组件（httpd-2.2.3-22.e15.centos）。</p>  <p>接下来卸载apache，运行：    <table border="1" cellspacing="0" cellpadding="0"><tbody>       <tr>         <td>           <p># rpm -e httpd</p>         </td>       </tr>     </tbody></table> </p>  <p>命令rpm -e的作用是卸载rpm包，只需输入rpm包的名字即可，无需带版本号。</p>  <p>如果卸载不掉，系统会提示该rpm包的依赖关系及名称，先卸载提示的依赖包即可。如果还无法卸载，可以使用–nodeps参数（忽略依赖性关系）强制卸载，但最好不要这么做。</p>  <p>第二步：安装Kloxo    <table border="1" cellspacing="0" cellpadding="0"><tbody>       <tr>         <td>           <p># cd /usr/local/src</p>         </td>       </tr>     </tbody></table> </p>  <p>转到软件源代码包存放目录。这步可以不执行，个人爱好，我不喜欢把文件乱放。当然你也可以将软件包放到/tmp（临时文件存放目录）下。    <table border="1" cellspacing="0" cellpadding="0"><tbody>       <tr>         <td>           <p># wget <a href="http://download.lxcenter.org/download/kloxo/production/kloxo-installer.sh" target="_blank" rel="external">http://download.lxcenter.org/download/kloxo/production/kloxo-installer.sh</a></p>            <p># sh ./kloxo-installer.sh –type=master</p>         </td>       </tr>     </tbody></table> </p>  <p>下载并安装Kloxo。</p>  <p>按照Kloxo官方的教程，其实只需这2步即可完成安装Kloxo。</p>  <p><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image007" border="0" alt="clip_image007" src="http://img.cker.in/SSHLinuxVPSKloxoLxadmin_4E4D/clip_image007.jpg" width="504" height="94"></p>  <p>“InstallApp”是一个集成了PHPBB、WordPress、Joomla等130多个常用源码的程序包，大概占用350MB的磁盘空间，可以根据自己的需求选择是否安装。如果服务器在国内不敢保证安装速度。</p>  <p><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image008" border="0" alt="clip_image008" src="http://img.cker.in/SSHLinuxVPSKloxoLxadmin_4E4D/clip_image008.jpg" width="504" height="136"></p>  <p>整个安装过程很快，看见“Congratulations.”就说明Kloxo在你的VPS上已经安装完毕了。</p>  <p>接下来安装一些Kloxo没有自带的常用组件：    <table border="1" cellspacing="0" cellpadding="0"><tbody>       <tr>         <td>           <p># yum install php-bcmath              <br># yum install php-mhash               <br># yum install php-mbstring               <br># yum check-update               <br># yum update               <br># yum clean all</p>         </td>       </tr>     </tbody></table> </p>  <p>php-bcmath是任意精度数学函数库，用于浮点数精确运算；php-mhash是哈稀函数库，用于运算MD5、SHA1或GOST，还有其它多种的哈稀演算法；php-mbstring是多字节（多语言）字符串处理函数，用于处理多种编码的语言；yum check-update是列出所有可待更新的RPM软件包清单；yum update是更新所有可更新的RPM软件包；yum clean all是清除所有旧的PRM头文件（header）和下载的RPM软件包。</p>  <p>执行完以上这些步骤，Kloxo就算完整安装好啦！Enjoy！安装过程中请检查SSH客户端滚屏是否包含error反馈。</p>  <p>通过下面地址你就可以通过Kloxo访问并管理你的VPS了：</p>  <p><a href="http://你的IP地址：7778" target="_blank" rel="external">http://你的IP地址：7778</a></p>  <p><a href="https://你的IP地址：7777" target="_blank" rel="external">https://你的IP地址：7777</a></p>  <p>默认帐号和密码都是：admin</p>  <p>通过HTTPS链接访问时，浏览器会提示SSL证书不正确，这个可以忽略，不影响使用。</p>  <p>如果无法访问，一般是由于开启了iptables过滤了端口所导致。如果没有其他防火墙相关的要求，简单的关闭iptables即可。    <table border="1" cellspacing="0" cellpadding="0"><tbody>       <tr>         <td>           <p># service iptables stop              <br># chkconfig iptables off</p>         </td>       </tr>     </tbody></table> </p>  <p>查看Kolox的运行状态可以运行：    <table border="1" cellspacing="0" cellpadding="0"><tbody>       <tr>         <td>           <p># /etc/init.d/kloxo status</p>         </td>       </tr>     </tbody></table> </p>  <p>你可以通过strat、stop、restart进行相应的启动、停止、重启等操作的执行。</p>
    </section>
    <footer class="post-footer">
      <section class="author">
    <h4>Secer</h4>
    <p>记录互联网安全历程与个人成长经历</p>
</section>
      <section class="share">
    <h4>Share this post</h4>
    <a class="icon-sina-weibo" href="http://v.t.sina.com.cn/share/share.php?title=记录互联网安全历程与个人成长经历 ?url=http://ha.cker.in/577.seo/" target="_blank">
        <span class="hidden">weibo</span>
    </a>
    <a class="icon-twitter" href="http://twitter.com/share?url=http://ha.cker.in/577.seo/"
       onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
        <span class="hidden">Twitter</span>
    </a>
    <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://ha.cker.in/577.seo/"
       onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
        <span class="hidden">Facebook</span>
    </a>
    <a class="icon-google-plus" href="https://plus.google.com/share?url=http://ha.cker.in/577.seo/"
       onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
        <span class="hidden">Google+</span>
    </a>
</section>

    </footer>
  </article>
  <nav class="pagination" role="pagination">
    
    <a class="newer-posts" href="/582.seo/">
        ← wp密码暴力破解
    </a>
    
    <span class="icon-logo">•</span>
    
    <a class="older-posts" href="/572.seo/">
        渗透一站全过程 →
    </a>
    
</nav>

  <div id="comment" class="comments-area">
    <h4 class="title"><a href="#disqus_comments" name="disqus_comments">Comments</a></h4>
    
</div>

</main>


      
<footer class="site-footer">
  
  <div class="inner">
     <section class="copyright">All content copyright <a href="/">Blog of Secer</a> &copy; 2014 &bull; All rights reserved.</section>
     <section class="poweredby">Proudly published with <a class="icon-ghost" href="http://zespia.tw/hexo/">Hexo</a></section>
  </div>
</footer>

      <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<script type="text/javascript" src="/js/jquery.fitvids.js"></script>
<script type="text/javascript" src="/js/index.js"></script>
<script type="text/javascript" src="/js/menu.js"></script>





  </div>
</div>

<nav  class="outer-nav top horizontal">

          <a class="icon-home"  href="/"><span>Home</span></a>

          <a class="icon-news"  href="/archives"><span>Archive</span></a>

          <a class="icon-image"  href="/images"><span>Images</span></a>

          <a class="icon-wiki"  href="/wiki/"><span>Wiki</span></a>

          <a class="icon-Favorites"  href="/favorites"><span>Favorites</span></a>

          <a class="icon-mail"  href="/about/"><span>Contact</span></a>

</nav>

</div>
</body>
</html>
